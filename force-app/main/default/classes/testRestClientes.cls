@isTest
private class testRestClientes {

    static testMethod void myUnitTest() {
        RestRequest request = new RestRequest();
        request.requestUri = 'https://na55.salesforce.com/services/apexrest/Account/';
        request.httpMethod = 'POST';
        
        Producto__c producto = new Producto__c(Name = 'Producto1', Codigo__c = '01');
        insert producto;
        
        Subproducto__c subproducto = new Subproducto__c(Name = 'SubProducto1', Codigo__c = '01', Producto__c = producto.id);
        insert subproducto;
        
        classClientes clientes = new classClientes();
        clientes.tipoRegistro = 'Natural';
	    clientes.activo = true;
	    clientes.nombreCliente = 'Fran';
	    clientes.apellidoCliente = 'Oseguera';
	    clientes.tipoIdentidad = '01';
	    clientes.identificacion = '0303199100448';
	    clientes.sexo = 'M';
	    clientes.estadoCivil = 'Soltero';
	    clientes.nombreConyugue = 'Alguien';
	    clientes.telefonoDomicilio = '41451435';
	    clientes.telefonoCelular = '145142';
	    clientes.correoElectronico = 'fran@gmail.com';
	    clientes.nacionalidad = 'Honduras';
	    clientes.lugarNacimiento = 'Comayagua';
	    clientes.numeroDependientes = 2;
	    clientes.profesionOcupacionOficio = 'Ingeniero';
	    clientes.fechaNacimiento = '1991-10-20';
	    clientes.notificarCorreo = true;
	    clientes.numeroCliente = '42352';
	    clientes.asesorCliente = '707';
	    clientes.antiguedad = '4';
	    //clientes.coloniaBarrioResidencia = 'SRF';
	    clientes.calleAvenidaResidencia = 'PRC';
	    clientes.numeroCasaResidencia = '1441234';
	    clientes.puntoReferenciaResidencia = 'Ninguno';
	    //clientes.ciudadResidencia = '123-25';
	    clientes.paisResidencia = 'Honduras';
	    clientes.coloniaBarrioTrabajo = '';
	    //clientes.calleAvenidaTrabajo = '';
	    clientes.numeroCasaTrabajo = '';
	    clientes.puntoReferenciaTrabajo = '';
	    clientes.ciudadTrabajo = '';
	    clientes.paisTrabajo = '';
	    clientes.tipoTrabajador = '';
	    clientes.tipoEmpresa = '';
	    clientes.giroEmpresa = '';
	    clientes.cargoActual = '';
	    clientes.fechaIngresoEmpresa = '';
	    clientes.rangoSalarial = '';
	    clientes.telefonoOficina = '';
	    clientes.extensionOficina = 24534;
	    clientes.correoElectronicoOficina = '';
	    clientes.r1NombreCompleto = '';
	    clientes.r1Telefono = '';
	    clientes.r2NombreCompleto = '';
	    clientes.r2Telefono = '';
	    clientes.pep = true;
	    clientes.fatca = true;
	    clientes.campana = '';
	    clientes.carnet = true;
	    clientes.promocional1 = '';
	    clientes.promocional2 = '';
	    clientes.promocional3 = '';
	    clientes.descripcion = '';
    		
        clientes.cuentas = new list<classClientes.classCuentas>();
        classClientes.classCuentas unaCuenta = new classClientes.classCuentas();
        unaCuenta.cliente = '0303199100448';
        unaCuenta.cuenta = '24554';
        unaCuenta.producto = '01';
        unaCuenta.subProducto = '01';
        unaCuenta.cuentaColectiva = '';
        unaCuenta.cuentaActiva = true;
        unaCuenta.fondo = '';
        unaCuenta.fondoInversion = '';
        unaCuenta.fechaApertura = Date.newInstance(2017,01,01);
        unaCuenta.fechaAporte = '';
        unaCuenta.frecuenciaAporte = '';
        unaCuenta.formaAporte = '';
        unaCuenta.seguroVida = false;
        unaCuenta.codigoBarra = '24353';
        unaCuenta.tipoComision = '';
        unaCuenta.matrizComision = '';
        clientes.cuentas.add(unaCuenta);
        
        clientes.cuentas[0].beneficiarios = new list<classClientes.classBeneficiarios>();
        classClientes.classBeneficiarios beneficiario = new classClientes.classBeneficiarios();
        beneficiario.cuenta = '24554';
        beneficiario.idExterno = '42';
        beneficiario.primerNombre = 'Fran';
        beneficiario.segundoNombre = '';
        beneficiario.primerApellido = 'Oseguera';
        beneficiario.segundoApellido = '';
        beneficiario.fechaNacimiento = Date.newInstance(2017,01,01);
        beneficiario.codigoParentesco = '';
        beneficiario.gradoParentesco = '';
        beneficiario.porcentaje = 5;
        beneficiario.sexo = '';
        beneficiario.identidad = '';
        beneficiario.tipoId = '';
        beneficiario.telefono = '';
        beneficiario.direccion = '';     
        clientes.cuentas[0].beneficiarios.add(beneficiario);
        
        classClientes clientesEMP = new classClientes();
        clientesEMP.tipoRegistro = 'Juridico';
	    clientesEMP.activo = true;
	    clientesEMP.identificacion = '2453-1991-00448';
    	clientesEMP.nombreComercial = '';
	    clientesEMP.rtn = '';
	    clientesEMP.razonSocial = 'Intellect System';
	    clientesEMP.telefono = '';
	    clientesEMP.giroNegocio = '';
	    clientesEMP.numeroEmpleados = 5;
	    clientesEMP.estatusCuentaEmpresarial = '';
	    clientesEMP.primerAporte = 100;
	    clientesEMP.nombreRepresentanteLegal = '';
	    clientesEMP.cargoEmpresa = '';
	    clientesEMP.poderEmpresa = '';
	    clientesEMP.rlFechaNacimiento = '';
	    clientesEMP.rlCorreoElectronico = '';
	    clientesEMP.rlTelefono = '';
	    clientesEMP.c1NombreCompleto = '';
	    clientesEMP.c1CargoEmpresa = '';
	    clientesEMP.c1FechaNacimiento = '';
	    clientesEMP.c1CorreoElectronico = '';
	    clientesEMP.c1Telefono = '';
	    clientesEMP.c2NombreCompleto = '';
	    clientesEMP.c2CargoEmpresa = '';
	    clientesEMP.c2FechaNacimiento = '';
	    clientesEMP.c2CorreoElectronico = '';
	    clientesEMP.c2Telefono = '';
	    clientesEMP.c3NombreCompleto = '';
	    clientesEMP.c3CargoEmpresa = '';
	    clientesEMP.c3FechaNacimiento = '';
	    clientesEMP.c3CorreoElectronico = '';
	    clientesEMP.c3Telefono = '';
	    clientesEMP.numeroCharlasBrindadas = 1;
	    clientesEMP.cantidadPersonasAsistieron = 2;
	    clientesEMP.totalAfiliados = 3;
	    clientesEMP.totalAfiliadosAportan = 5;
	    clientesEMP.totalMontoAporteL = 500;
	    clientesEMP.totalMontoAporteD = 300;
        
        list<classClientes> listClientes = new list<classClientes>();
        listClientes.add(clientes);
        listClientes.add(clientesEMP);
        
        String cuerpo = JSON.serialize(listClientes);
        request.requestBody = blob.valueOF(cuerpo);
        RestContext.request = request;

        restClientes.sincronizarClientes();
    }
}
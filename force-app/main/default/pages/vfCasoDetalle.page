<apex:page standardController="Case" extensions="extensionCasoDetalle" title="Ficohsa FPC" showheader="false" sidebar="false" cache="false" expires="0"
           standardStylesheets="false" showQuickActionVfHeader="false" docType="html-5.0" id="page" applyHtmlTag="false" applyBodyTag="false">
    
    <html xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" lang="en">
        <head>
            <meta charset="utf-8" /> 
            <meta http-equiv="x-ua-compatible" content="ie=edge" />
            <title>{!Case.CaseNumber}</title>
            <meta name="viewport" content="width=device-width, initial-scale=1" />
            <apex:stylesheet value="{!URLFOR($Resource.SLDS221, 'assets/styles/salesforce-lightning-design-system-vf.min.css')}" />
            <apex:slds /> 
            
            <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
            <script src="/soap/ajax/28.0/connection.js" type="text/javascript"></script>
            <script>
            sforce.connection.sessionId = '{!$Api.Session_ID}';
            var caseId = '{!Case.Id}'; 
            
            $(document).keydown(function(objEvent) {
                if (objEvent.keyCode == 9) {  //tab pressed
                    objEvent.preventDefault(); // stops its action
                }
            });
            function process() {  
            
                var TipoOperacion = $('[id$=TipoOperacion]').val(); //alert(TipoOperacion);
                        
                var CanalAporte = $('[id$=CanalAporte]').val(); //alert(CanalAporte);                   
                var e = document.querySelectorAll('[id$="Frecuencia"]')[0];
                
                if(TipoOperacion == 'A1' || TipoOperacion == 'A2' || TipoOperacion == 'A4' || TipoOperacion == 'A6' || TipoOperacion == 'A7') { 
                    $('select.removePicklistValue2 option[value=24]').remove(); $('select.removePicklistValue2 option[value=2]').remove(); $('select.removePicklistValue2 option[value=30]').remove(); $('select.removePicklistValue2 option[value=6]').remove(); $('select.removePicklistValue2 option[value=15]').remove();
                    $('select.removePicklistValue2 option[value=7]').remove(); $('select.removePicklistValue2 option[value=18]').remove(); $('select.removePicklistValue2 option[value=14]').remove(); $('select.removePicklistValue2 option[value=17]').remove(); $('select.removePicklistValue2 option[value=25]').remove();  
                    $('select.removePicklistValue2 option[value=31]').remove(); $('select.removePicklistValue2 option[value=32]').remove(); $('select.removePicklistValue2 option[value=51]').remove(); $('select.removePicklistValue2 option[value=1]').remove(); $('select.removePicklistValue2 option[value=13]').remove();
                    $('select.removePicklistValue2 option[value=33]').remove(); $('select.removePicklistValue2 option[value=52]').remove();      
                }

                if(CanalAporte == 'TA' || CanalAporte == 'TAOB' || TipoOperacion == 'A6') {                   
                    if (e && !e[0].value) {
                        e.remove(1);
                    }
                    $('select.removePicklistValue option[value=1]').remove(); $('select.removePicklistValue option[value=2]').remove(); $('select.removePicklistValue option[value=3]').remove(); $('select.removePicklistValue option[value=4]').remove(); $('select.removePicklistValue option[value=5]').remove();
                    $('select.removePicklistValue option[value=6]').remove(); $('select.removePicklistValue option[value=7]').remove(); $('select.removePicklistValue option[value=8]').remove(); $('select.removePicklistValue option[value=9]').remove(); $('select.removePicklistValue option[value=10]').remove(); 
                    $('select.removePicklistValue option[value=11]').remove(); $('select.removePicklistValue option[value=12]').remove(); $('select.removePicklistValue option[value=13]').remove(); 
                    $('select.removePicklistValue option[value=15]').remove(); $('select.removePicklistValue option[value=16]').remove(); $('select.removePicklistValue option[value=17]').remove(); 
                    $('select.removePicklistValue option[value=18]').remove(); $('select.removePicklistValue option[value=19]').remove(); $('select.removePicklistValue option[value=20]').remove();   
                    $('select.removePicklistValue option[value=21]').remove(); $('select.removePicklistValue option[value=22]').remove(); $('select.removePicklistValue option[value=23]').remove(); 
                    $('select.removePicklistValue option[value=24]').remove(); $('select.removePicklistValue option[value=25]').remove();    
                    $('select.removePicklistValue option[value=27]').remove(); $('select.removePicklistValue option[value=28]').remove(); $('select.removePicklistValue option[value=29]').remove(); $('select.removePicklistValue option[value=30]').remove(); $('select.removePicklistValue option[value=31]').remove();   
                }                            
            }            
                                    
            $(document).ready( function () {
                process();
            }); 
            </script>

            <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"/>
            <link rel="stylesheet" href="/resources/demos/style.css"/>
            <!-- script src="https://code.jquery.com/jquery-1.12.4.js"></script -->
            <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
            <script>
              $.datepicker.regional['es'] = {
              closeText: 'Cerrar',
              prevText: '< Ant',
              nextText: 'Sig >',
              currentText: 'Hoy',
              monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
              monthNamesShort: ['Ene','Feb','Mar','Abr', 'May','Jun','Jul','Ago','Sep', 'Oct','Nov','Dic'],
              dayNames: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],
              dayNamesShort: ['Dom','Lun','Mar','Mié','Juv','Vie','Sáb'],
              dayNamesMin: ['Do','Lu','Ma','Mi','Ju','Vi','Sá'],
              weekHeader: 'Sm',
              dateFormat: 'mm/dd/yy',
              firstDay: 1,
              isRTL: false,
              showMonthAfterYear: false,
              yearSuffix: ''
             };
             $.datepicker.setDefaults($.datepicker.regional['es']);
             $(function () {
                 $("[id$='datepicker']").datepicker();
             });
            </script>
            
            <script>
                function myFunction() {
                    var flag = $("[id$='formaRetiro']").val(); alert(flag);
                    if(flag == 'CK') { //alert('Entra');
                        callAction(flag);
                    }
                }
            </script>
                        
            <style>
            .scrolling-wrapper {
              overflow-x: scroll;
              overflow-y: hidden;
              white-space: nowrap;
            }
            </style>
            
        </head>
        <body> 
            <script>
            function enterPress(e){  
                if(e.keyCode==13){
                    if(e.prDefault){ 
                        e.prDefault();
                    }
                    else{
                        e.returnValue=false;
                    }
                    searchFunction();
                }        
            }
            function enterPress2(e){
                if(e.keyCode==13){
                    if(e.preventDefault){ 
                        e.preventDefault();
                    }
                    else{
                        e.returnValue=false;
                    }
                    searchFunction2();
                }        
            }
            </script>
            
            <apex:form id="theForm" >
                <apex:actionFunction name="callAction" reRender="yourText" action="{!changeFlag}">
                    <apex:param value="" name="flagValue"/>
                </apex:actionFunction>
                <apex:actionFunction action="{!buscarSubPro}" name="searchFunction" />
                <apex:actionFunction action="{!buscarCuentaC}" name="searchFunction2" />
                 <apex:actionStatus id="status">
                <apex:facet name="start">
                    <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; opacity: 0.25; z-index: 1000; background-color: black;">
                         
                    </div>
                    
                    <div role="status" class="slds-spinner slds-spinner_large">
                        <span class="slds-assistive-text">Por Favor Espere...</span>
                        <div class="slds-spinner__dot-a"></div>
                        <div class="slds-spinner__dot-b"></div>
                    </div>
                </apex:facet>
            </apex:actionStatus>
                <div class="slds-scope"> 
                    <apex:Messages styleClass="slds-notify slds-notify--alert slds-theme--alert-texture"/>
                    
                    <fieldset class="slds-box slds-align--absolute-center slds-container--medium">
                       
                        <apex:outputPanel >
                            <fieldset class="slds-form--compound ">
                                <div class="slds-form-element__group">
                                    <div class="slds-form-element__row">
                                        
                                        <div class="slds-form-element slds-size--1-of-2">
                                            
                                            <label class="slds-form-element__label" >Cuenta</label>
                                            <apex:selectList rendered="{!!cTipoCaso.reversiones}" value="{!idCuenta}" id="idCuenta2" styleclass="slds-select cuentaDetalle" size="1">
                                                <apex:selectOptions value="{!listCuentas}" />
                                                <apex:actionSupport event="onchange" action="{!selecCuenta}" rendered="{!cTipoCaso.subProducto}"/>
                                                <!--apex:actionSupport immediate="true" event="onchange" action="{!MonedaCuenta}" rendered="{!cTipoCaso.reversiones}"/-->
                                            </apex:selectList>
                                            <apex:selectList rendered="{!cTipoCaso.reversiones}" value="{!idCuenta}" id="idCuenta" styleclass="slds-select" size="1">
                                                <apex:selectOptions value="{!listCuentas}" />
                                                <apex:actionSupport immediate="true" event="onchange" action="{!MonedaCuenta}" rendered="{!cTipoCaso.reversiones}"/>
                                            </apex:selectList>
                                        </div>
                                        
                                        <div class="slds-form-element slds-size--2-of-2"> 
                                            <br/>
                                            <label class="slds-form-element__label" >
                                                <apex:outputLabel rendered="{!cTipoCaso.reversiones}">Moneda: {!monedaCuenta} </apex:outputLabel>
                                            </label>
                                            
                                            
                                            <apex:commandButton value="Agregar" action="{!agregarCuenta}" styleClass="slds-button slds-button--neutral" 
                                                                rendered="{!cTipoCaso.constancias}" />  
                                            <apex:commandButton value="Ver Beneficiarios" action="{!verBeneficiarios}" styleClass="slds-button slds-button--neutral" 
                                                                rendered="{!cTipoCaso.actInformacion}" />  
                                            <apex:commandButton value="Nuevo Beneficiario" action="{!agregarCuenta}" styleClass="slds-button slds-button--neutral" 
                                                                rendered="{!cTipoCaso.actInformacion}" />
                                            
                                        </div>
                                    </div>
                                    <apex:outputpanel rendered="{!AND(cTipoCaso.constancias, Caso.Constancia__c == 'A4', Caso.SuppliedEmail != Null)}">
                                        <div class="slds-form-element__group">
                                            <div class="slds-form-element__row">
                                                <div class="slds-form-element slds-size--1-of-2">
                                                    <label class="slds-form-element__label" >
                                                        <abbr class="slds-required" title="required">*</abbr>Agencia donde quiere ir a recoger la Constancia</label><br/>
                                                    <apex:inputField styleclass="slds-input" value="{!Caso.Agencia__r.Name}" html-disabled="true"/> 
                                                </div>
                                            </div>
                                        </div>
                                    </apex:outputpanel>
                                    
                                    <apex:outputpanel rendered="{!AND(cTipoCaso.constancias, Caso.Constancia__c != 'A4', 
                                                                Caso.Constancia__c != 'Saldo', Caso.Constancia__c != 'A5',
                                                                Caso.Constancia__c != 'P1')}">
                                        <div class="slds-form-element__row">
                                            <div class="slds-form-element slds-size--1-of-2">
                                                <label class="slds-form-element__label" >Fecha desde</label>
                                                <apex:inputField type="date" styleclass="slds-input"  value="{!Caso.Fecha_desde__c}" showDatePicker="true" />
                                            </div>
                                            <div class="slds-form-element slds-size--2-of-2">
                                                <label class="slds-form-element__label" >Fecha hasta</label>
                                                <apex:inputField type="date" styleclass="slds-input"  value="{!Caso.Fecha_hasta__c}" showDatePicker="true" />
                                            </div>
                                        </div>
                                    </apex:outputpanel>
                                    
                                    <apex:outputpanel rendered="{!AND(cTipoCaso.constancias, Caso.Constancia__c = 'P1')}">
                                        <div class="slds-form-element__row">
                                            <div class="slds-form-element slds-size--1-of-3">
                                                <label class="slds-form-element__label" >Total Saldo Personal</label><br/>
                                                <apex:outputField styleclass="slds-input"   value="{!detalleCaso.Total_Saldo_Personal__c}"  />
                                            </div>
                                            <div class="slds-form-element slds-size--2-of-3">
                                                <label class="slds-form-element__label" >Total Saldo Patronal</label><br/>
                                                <apex:outputField styleclass="slds-input"  value="{!detalleCaso.Total_Saldo_Patronal__c}"  />
                                            </div>
                                             <div class="slds-form-element slds-size--3-of-3">
                                                <label class="slds-form-element__label" >Fondo de Inversión</label><br/>
                                                <apex:outputField styleclass="slds-input"  value="{!cuentaCliente.FondoInversionCP__c}"  />
                                            </div>
                                        </div>
                                        
                                        <div class="slds-form-element__row">
                                            <div class="slds-form-element slds-size--1-of-3">
                                                <label class="slds-form-element__label" >Es Primer prestamo</label><br/>
                                                <apex:inputField styleclass="slds-input" rendered="{!AND(caso.status='Nuevo', !case.Aprobado__c)}"   value="{!detalleCaso.Es_Primer_Prestamo__c }"  >
                                                    <apex:actionSupport event="onchange" action="{!VerificacionCheckPrestamos}" reRender="theForm" status="status" />
                                                </apex:inputField>
                                                <apex:outputField rendered="{!OR(caso.status !='Nuevo', case.Aprobado__c)}" value="{!detalleCaso.Es_Primer_Prestamo__c }" />
                                            </div>
                                            <div class="slds-form-element slds-size--2-of-3">
                                                <label class="slds-form-element__label" >No es Primer prestamo</label><br/>
                                                <apex:inputField styleclass="slds-input" rendered="{!AND(caso.status='Nuevo', !case.Aprobado__c)}"  value="{!detalleCaso.No_es_primer_prestamo__c}"  >
                                                    <apex:actionSupport event="onchange" action="{!VerificacionCheckPrestamos}" reRender="theForm" status="status" />
                                                </apex:inputField>
                                                <apex:outputField rendered="{!OR(caso.status !='Nuevo', case.Aprobado__c)}" value="{!detalleCaso.No_es_primer_prestamo__c }" />
                                            </div>
                                            <div class="slds-form-element slds-size--3-of-3">
                                                <label class="slds-form-element__label" >Es Refinanciamiento</label><br/>
                                                <apex:inputField styleclass="slds-input" rendered="{!AND(caso.status='Nuevo', !case.Aprobado__c)}"   value="{!detalleCaso.Es_Refinanciamiento__c}"  >
                                                    <apex:actionSupport event="onchange" action="{!VerificacionCheckPrestamos}" reRender="theForm" status="status" />
                                                </apex:inputField>
                                                <apex:outputField rendered="{!OR(caso.status !='Nuevo', case.Aprobado__c)}" value="{!detalleCaso.Es_Refinanciamiento__c }" />
                                            </div>
                                        </div>
                                        <apex:outputPanel rendered="{!!detalleCaso.Es_Refinanciamiento__c}">
                                            <div class="slds-form-element__row">
                                                <div class="slds-form-element slds-size--1-of-2">
                                                    <label class="slds-form-element__label" >Monto del Prestamo</label><br/>
                                                    <apex:inputField styleclass="slds-input" rendered="{!AND(caso.status='Nuevo', !case.Aprobado__c)}"  value="{!detalleCaso.Monto_Prestamo__c}"  >
                                                        <apex:actionSupport event="onchange" action="{!VerificacionMontoPrestamo}" reRender="theForm" status="status" />
                                                    </apex:inputField>
                                                    <apex:outputField styleclass="slds-input" rendered="{!OR(caso.status!='Nuevo',case.Aprobado__c)}"   value="{!detalleCaso.Monto_Prestamo__c}"  />
                                                </div>
                                                <div class="slds-form-element slds-size--2-of-2">
                                                    <label class="slds-form-element__label" >Número de Préstamo</label>
                                                    <apex:inputField styleclass="slds-input"  value="{!detalleCaso.Numero_Prestamo__c}"  />
                                                </div>
                                            </div>
                                        </apex:outputPanel>
                                        <apex:outputPanel rendered="{!detalleCaso.Es_Refinanciamiento__c}">
                                            <div class="slds-form-element__row">
                                                <div class="slds-form-element slds-size--1-of-3">
                                                    <label class="slds-form-element__label" >Prestamo a Refinanciar</label>
                                                    <apex:inputField styleclass="slds-input"  value="{!detalleCaso.Prestamo_anterior__c}"  >
                                                        <apex:actionSupport event="onchange" action="{!VerificacionPreatamoRefinanciar}" reRender="theForm" status="status" />
                                                    </apex:inputField>
                                                </div>
                                                <div class="slds-form-element slds-size--2-of-3">
                                                    <label class="slds-form-element__label" >Monto del Prestamo</label><br/>
                                                    <apex:inputField styleclass="slds-input" rendered="{!AND(caso.status='Nuevo', !case.Aprobado__c, detalleCaso.Prestamo_anterior__c!=null)}"  value="{!detalleCaso.Monto_Prestamo__c}"  >
                                                        <apex:actionSupport event="onchange" action="{!VerificacionMontoPrestamo}" reRender="theForm" status="status" />
                                                    </apex:inputField>
                                                    <apex:outputField styleclass="slds-input" rendered="{!OR(caso.status!='Nuevo',case.Aprobado__c, detalleCaso.Prestamo_anterior__c=null)}"   value="{!detalleCaso.Monto_Prestamo__c}"  />
                                                </div>
                                                <div class="slds-form-element slds-size--3-of-3">
                                                    <label class="slds-form-element__label" >Numero de Prestamo</label>
                                                    <apex:inputField styleclass="slds-input"   value="{!detalleCaso.Numero_Prestamo__c}"  />
                                                    
                                                </div>
                                            </div>
                                        </apex:outputPanel>
                                        <!--div class="slds-form-element__row">
<div class="slds-form-element slds-size--1-of-3">
<label class="slds-form-element__label" >Es Primer prestamo</label><br/>
<apex:inputField styleclass="slds-input" rendered="{!AND(caso.status='Nuevo', !case.Aprobado__c)}"   value="{!detalleCaso.Es_Primer_Prestamo__c }"  >
<apex:actionSupport event="onchange" action="{!VerificacionCheckPrestamos}" reRender="theForm" status="status" />
</apex:inputField>
<apex:outputField rendered="{!OR(caso.status !='Nuevo', case.Aprobado__c)}" value="{!detalleCaso.Es_Primer_Prestamo__c }" />
</div>
<div class="slds-form-element slds-size--2-of-3">
<label class="slds-form-element__label" >No es Primer prestamo</label><br/>
<apex:inputField styleclass="slds-input" rendered="{!AND(caso.status='Nuevo', !case.Aprobado__c)}"  value="{!detalleCaso.No_es_primer_prestamo__c}"  >
<apex:actionSupport event="onchange" action="{!VerificacionCheckPrestamos}" reRender="theForm" status="status" />
</apex:inputField>
<apex:outputField rendered="{!OR(caso.status !='Nuevo', case.Aprobado__c)}" value="{!detalleCaso.No_es_primer_prestamo__c }" />
</div>
<div class="slds-form-element slds-size--3-of-3">
<label class="slds-form-element__label" >Es Refinanciamiento</label><br/>
<apex:inputField styleclass="slds-input" rendered="{!AND(caso.status='Nuevo', !case.Aprobado__c)}"   value="{!detalleCaso.Es_Refinanciamiento__c}"  >
<apex:actionSupport event="onchange" action="{!VerificacionCheckPrestamos}" reRender="theForm" status="status" />
</apex:inputField>
<apex:outputField rendered="{!OR(caso.status !='Nuevo', case.Aprobado__c)}" value="{!detalleCaso.Es_Refinanciamiento__c }" />
</div>
</div-->
                                        
                                        
                                        <div class="slds-form-element__row">
                                            <div class="slds-form-element slds-size--1-of-2">
                                                <label class="slds-form-element__label" >Total Pignorado</label><br/>
                                                <apex:outputField value="{!detalleCaso.Monto_Pignorado__c}"  />
                                                
                                            </div>
                                            <div class="slds-form-element slds-size--2-of-2">
                                                <label class="slds-form-element__label" >Monto a Pignorar</label><br/>
                                                <apex:outputField styleclass="slds-input" rendered="{!OR(detalleCaso.Monto_Pignorar_Refinanciamiento__c = null, detalleCaso.Monto_Pignorar_Refinanciamiento__c = 0)}"   value="{!detalleCaso.Monto_a_Pignorar__c}"  />
                                                <apex:outputField styleclass="slds-input" rendered="{!AND(detalleCaso.Monto_Pignorar_Refinanciamiento__c != null, detalleCaso.Monto_Pignorar_Refinanciamiento__c != 0)}"    value="{!detalleCaso.Monto_Pignorar_Refinanciamiento__c}"  />
                                            </div>
                                        </div>
                                    </apex:outputpanel>
                                    
                                    <apex:outputpanel rendered="{!AND(cTipoCaso.constancias, Caso.Constancia__c = 'A6')}">
                                        <div class="slds-form-element__row">
                                            <div class="slds-form-element slds-size--1-of-2">
                                                <label class="slds-form-element__label" >Monto de compromiso</label>
                                                <apex:inputField styleclass="slds-input" value="{!Caso.Monto_compromiso_aporte__c}"/>
                                            </div>
                                            <div class="slds-form-element slds-size--2-of-2" >
                                                <label class="slds-form-element__label" >Frecuencia</label>
                                                <apex:inputField styleclass="slds-input" value="{!Caso.Frecuencia__c}"/>
                                            </div>
                                        </div>
                                    </apex:outputpanel>
                                    
                                </div>
                            </fieldset>
                        </apex:outputPanel>
                        <!----  REPOSICION DE CARNET----->
                        <apex:outputPanel rendered="{!cTipoCaso.reposicionCarnet}">
                        <fieldset class="slds-form--compound ">
                                <div class="slds-form-element__group">
                                    <div class="slds-form-element__row">
                                        <div class="slds-form-element slds-size--1-of-2">
                                            <label class="slds-form-element__label" >
                                                <abbr class="slds-required" title="required">*</abbr>Código de barrra</label><br/>
                                            <apex:inputField styleclass="slds-input" value="{!Caso.Codigo_barra__c}" required="true"/>
                                             
                                        </div>
                                        <div class="slds-form-element slds-size--2-of-2">
                                           <label class="slds-form-element__label" >
                                                <abbr class="slds-required" title="required">*</abbr>Agencia donde quiere ir a recoger el carnet</label><br/>
                                            <apex:inputField styleclass="slds-input" value="{!Caso.Agencia__r.Name}" rendered="{!caso.SuppliedEmail != Null}" html-disabled="true"/> 
                                            <apex:selectList required="true" styleclass="slds-select"  value="{!caso.Agencia__c}" rendered="{!caso.SuppliedEmail == Null}" size="1">
                                                <apex:selectOptions value="{!listAgencias}" />
                                            </apex:selectList>
                                        </div>
                                    </div>
                            </div>
                            </fieldset>
                        
                        </apex:outputPanel>
                        
                        
                        <!-- AUMENTO O DISMINUCION DE APORTE -->
                        <apex:outputpanel rendered="{!cTipoCaso.aumDisAporte}">             
                            <fieldset class="slds-form--compound ">
                                <div class="slds-form-element__group">
                                    <div class="slds-form-element__row">
                                        <div class="slds-form-element slds-size--1-of-2">
                                            <label class="slds-form-element__label" >
                                                <abbr class="slds-required" title="required">*</abbr>Tipo operación</label>
                                            <apex:inputField id="TipoOperacion" styleclass="slds-input" value="{!detalleCaso.Tipo_Operacion__c}" required="true"> 
                                                <apex:actionSupport event="onchange" action="{!accionVacia}"/>
                                            </apex:inputField> 
                                            
                                            <!-- apex:outputPanel rendered="{!If((detalleCaso.Tipo_Operacion__c = 'A4'),true,false)}" -->
                                            <!-- <apex:outputpanel rendered="{!AND(detalleCaso.Tipo_Operacion__c = 'A4',detalleCaso.Inicio_Fecha_Aporte__c == null)}">
                                                <label class="slds-form-element__label" >
                                                    Fechas disponibles
                                                </label>
                                                <div class="slds-form-element slds-size--2-of-2">
                                                    <apex:selectList styleclass="slds-input" value="{!DAU_Cambio_de_Fecha}" size="1"> 
                                                        <apex:selectOptions value="{!CambioFechaOptions}" /> 
                                                        <apex:actionSupport action="{!setCambioFecha}" event="onchange" reRender="dateField"/>    
                                                    </apex:selectList>
                                                </div> 
                                            </apex:outputPanel> -->
                                            
                                            <apex:outputpanel rendered="{!OR(detalleCaso.Tipo_Operacion__c = 'A5',detalleCaso.Tipo_Operacion__c = 'A6',
                                                                        detalleCaso.Tipo_Operacion__c = 'A3', detalleCaso.Tipo_Operacion__c = 'A8')}">
                                                <label class="slds-form-element__label" >
                                                    <abbr class="slds-required" title="required">*</abbr>Frecuencia</label>
                                                <apex:inputField id="Frecuencia" styleclass="slds-input" value="{!detalleCaso.Frecuencia__c}" />
                                            </apex:outputpanel> 
                                            
                                            <apex:outputpanel rendered="{!OR(detalleCaso.Tipo_Operacion__c = 'A3', detalleCaso.Tipo_Operacion__c = 'A6', detalleCaso.Tipo_Operacion__c = 'A8')}">
                                                <label class="slds-form-element__label" >
                                                    <abbr class="slds-required" title="required">*</abbr>Día de pago</label>
                                                <apex:inputField id="DiaPago" styleclass="slds-input removePicklistValue" value="{!detalleCaso.DAU_Dia_de_pago__c}" />
                                            </apex:outputpanel> 
                                                                                        
                                            <apex:outputPanel rendered="{!OR(detalleCaso.Tipo_Operacion__c = 'A6', detalleCaso.Tipo_Operacion__c = 'A8',
                                                                        AND(detalleCaso.Tipo_Operacion__c = 'A3'))}">
                                                <label class="slds-form-element__label" >
                                                    <abbr class="slds-required" title="required">*</abbr>POS</label>
                                                <apex:inputField styleclass="slds-input" value="{!detalleCaso.POS__c}" /> 
                                            </apex:outputPanel> 
                                            
                                            <apex:outputPanel rendered="{!AND(OR(detalleCaso.Tipo_Operacion__c = 'A3', detalleCaso.Tipo_Operacion__c = 'A6', detalleCaso.Tipo_Operacion__c = 'A8'),
                                                                        OR(detalleCaso.Nuevo_canal_aporte__c = 'TAOB', detalleCaso.Banco__c = 'Otros Bancos'))}">
                                                <label class="slds-form-element__label" >
                                                    <abbr class="slds-required" title="required">*</abbr>Tipo de Tarjeta</label>
                                                <apex:inputField styleclass="slds-input" value="{!detalleCaso.DAU_Tipo_Tarjeta__c}" /> 
                                            </apex:outputPanel>
                                            
                                            <apex:outputPanel rendered="{!OR(AND(OR(detalleCaso.Tipo_Operacion__c = 'A3', detalleCaso.Tipo_Operacion__c = 'A8'),
                                                                        detalleCaso.Nuevo_canal_aporte__c = 'TAOB'), detalleCaso.Tipo_Operacion__c = 'A1', detalleCaso.Tipo_Operacion__c = 'A2', 
                                                                        detalleCaso.Tipo_Operacion__c = 'A4', detalleCaso.Tipo_Operacion__c = 'A6', detalleCaso.Tipo_Operacion__c = 'A7')}">
                                                <label class="slds-form-element__label" >
                                                    <abbr class="slds-required" title="required">*</abbr>Banco</label>
                                                <apex:inputField styleclass="slds-input removePicklistValue2" value="{!detalleCaso.Banco__c}"> 
                                                    <apex:actionSupport event="onchange" action="{!accionVacia2}"/>
                                                </apex:inputField>    
                                            </apex:outputPanel>
                                        </div>
                                        <div class="slds-form-element slds-size--2-of-2">
                                            <apex:outputPanel rendered="{!OR(detalleCaso.Tipo_Operacion__c = 'A1',detalleCaso.Tipo_Operacion__c = 'A2')}">
                                                <label class="slds-form-element__label">
                                                    <abbr class="slds-required" title="required">*</abbr>Nuevo monto de operación</label><br/>
                                                <apex:inputField styleclass="slds-input" value="{!detalleCaso.Nuevo_monto_aporte__c}" />
                                            </apex:outputPanel>
                                            
                                            <apex:outputPanel rendered="{!If((detalleCaso.Tipo_Operacion__c = 'A3' || detalleCaso.Tipo_Operacion__c = 'A8'),true,false)}">
                                                <label class="slds-form-element__label">
                                                    <abbr class="slds-required" title="required">*</abbr>Nuevo canal de aporte</label><br/>
                                                <apex:inputField id="CanalAporte" styleclass="slds-input" value="{!detalleCaso.Nuevo_canal_aporte__c}">
                                                    <apex:actionSupport event="onchange" action="{!accionVacia2}"/>
                                                </apex:inputField>  
                                            </apex:outputPanel> 
                                            
                                            <apex:outputPanel rendered="{!OR(detalleCaso.Tipo_Operacion__c = 'A5',detalleCaso.Tipo_Operacion__c = 'A6',detalleCaso.Tipo_Operacion__c = 'A8',
                                                                        AND(detalleCaso.Tipo_Operacion__c = 'A3', 
                                                                        OR(detalleCaso.Nuevo_canal_aporte__c = 'AH', detalleCaso.Nuevo_canal_aporte__c = 'TA', detalleCaso.Nuevo_canal_aporte__c = 'TAOB')))}">
                                                <label class="slds-form-element__label" >
                                                    <abbr class="slds-required" title="required">*</abbr># Cuenta / Tarjeta</label>
                                                <apex:inputText styleclass="slds-input" value="{!detalleCaso.N_Cuenta_Bancaria__c}" /> 
                                            </apex:outputPanel>                             
                                            
                                            <apex:outputPanel id="dateField" rendered="{!If(detalleCaso.Tipo_Operacion__c = 'A4',true,false)}">
                                                <label class="slds-form-element__label" >
                                                    <abbr class="slds-required" title="required">*</abbr>Nueva fecha de aporte</label>
                                                <!-- apex:input type="date" value="{!FechaAporte}" styleclass="slds-input" -->
                                                <div> <!-- style="{!Nueva_fecha_aporte}" -->
                                                    <apex:inputField type="date" styleclass="slds-input" value="{!detalleCaso.Nueva_fecha_aporte__c}" showDatePicker="false"/>
                                                </div>
                                            </apex:outputPanel>
                                            
                                            
                                            <apex:outputpanel rendered="{!AND(OR(detalleCaso.Tipo_Operacion__c = 'A6', detalleCaso.Tipo_Operacion__c = 'A8', detalleCaso.Tipo_Operacion__c = 'A3'), 
                                                                        AND(OR(detalleCaso.Nuevo_canal_aporte__c = 'TA',detalleCaso.Nuevo_canal_aporte__c = 'TAOB',detalleCaso.Banco__c = 'Otros Bancos')))}">                                     
                                                <label class="slds-form-element__label">
                                                  <abbr class="slds-required" title="required">*</abbr>Fecha de vencimiento
                                                </label>                                              
                                                <div>
                                                  <ul class="slds-grid slds-wrap slds-grid_pull-padded">
                                                    <li class="slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_1-of-2">
                                                      <article class="slds-tile slds-media slds-hint-parent"> 
                                                        <div class="slds-media__body">
                                                          <div class="slds-tile__detail">
                                                            <apex:inputField styleClass="slds-input" value="{!detalleCaso.Mes__c}" /> 
                                                          </div>
                                                        </div>
                                                      </article>
                                                    </li>
                                                    <li class="slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_1-of-2">
                                                      <article class="slds-tile slds-media slds-hint-parent">
                                                        <div class="slds-media__body">
                                                          <div class="slds-tile__detail">
                                                            <apex:inputField styleClass="slds-input" value="{!detalleCaso.Ano_tarjeta__c}" />
                                                          </div>
                                                        </div>
                                                      </article>
                                                    </li>
                                                  </ul>
                                                </div>
                                            </apex:outputpanel>  
                                            
                                            <apex:outputPanel rendered="{!AND(OR(detalleCaso.Tipo_Operacion__c = 'A3', detalleCaso.Tipo_Operacion__c = 'A6', detalleCaso.Tipo_Operacion__c = 'A8'),
                                                                        OR(detalleCaso.Nuevo_canal_aporte__c = 'TAOB', detalleCaso.Banco__c = 'Otros Bancos'))}">                              
                                                <label class="slds-form-element__label">
                                                    <abbr class="slds-required" title="required">*</abbr>Nombre Tarjeta Habiente</label>
                                                <apex:inputField styleclass="slds-input" value="{!detalleCaso.DAU_Tarjeta_Habiente__c}" /> 
                                            </apex:outputPanel> 
                                            
                                            <apex:outputPanel rendered="{!OR(detalleCaso.Tipo_Operacion__c = 'A3', detalleCaso.Tipo_Operacion__c = 'A8')}">
                                                <label class="slds-form-element__label">
                                                    <abbr class="slds-required" title="required">*</abbr>Monto Débito</label>
                                                <apex:inputField styleclass="slds-input" value="{!detalleCaso.Nuevo_monto_aporte__c}" /> 
                                            </apex:outputPanel>     
                                            
                                            <apex:outputPanel rendered="{!OR(detalleCaso.Tipo_Operacion__c = 'A3',detalleCaso.Tipo_Operacion__c = 'A6',detalleCaso.Tipo_Operacion__c = 'A8')}">
                                                <div class="slds-form-element slds-size--2-of-2">
                                                    <label class="slds-form-element__label">
                                                       <apex:outputLabel ><abbr class="slds-required" title="required">*</abbr>Borrar cuotas pendientes</apex:outputLabel>
                                                    </label>
                                                </div>
                                                <div>
                                                    <apex:inputField id="tipoPago" style="width: 100% !important;" styleclass="slds-input" value="{!detalleCaso.DAU_Borrar_Cuotas__c}">
                                                    </apex:inputField>
                                                </div>  
                                            </apex:outputPanel>                                                                 
                                            
                                        </div>
                                    </div>
                                    
                                    <apex:outputPanel rendered="{!AND(detalleCaso.Inicio_Fecha_Aporte__c != null, detalleCaso.Nueva_fecha_aporte__c == Null)}" >
                                        <div class="slds-form-element__row">
                                            <div class="slds-form-element slds-size--1-of-2">
                                                <label class="slds-form-element__label" >
                                                    <abbr class="slds-required" title="required">*</abbr>Fecha de Inicio de Aporte</label>
                                                <apex:inputField styleclass="slds-input" value="{!detalleCaso.Inicio_Fecha_Aporte__c}" showDatePicker="false"/> 
                                            </div>
                                            <div class="slds-form-element slds-size--2-of-2" />
                                        </div>
                                    </apex:outputPanel>
                                    
                                    
                                    
                                </div>
                            </fieldset>                 
                        </apex:outputpanel>
                        
                        <!-- SUBPRODUCTO -->
                        <apex:outputpanel rendered="{!cTipoCaso.subProducto}"> 
                            <fieldset class="slds-form--compound ">
                                <div class="slds-form-element__group">
                                    <div class="slds-form-element__row">
                                        <div class="slds-form-element slds-size--1-of-2">
                                            <label class="slds-form-element__label" >
                                                <abbr class="slds-required" title="required">*</abbr>Acción</label><br/>
                                            <apex:inputField styleclass="slds-input" value="{!detalleCaso.Accion__c}" required="true">
                                                <apex:actionSupport event="onchange" action="{!accionSubproducto}"/>
                                            </apex:inputField> 
                                        </div>
                                        <div class="slds-form-element slds-size--2-of-2">
                                            <label class="slds-form-element__label">Producto</label><br/ >
                                            <apex:outputField rendered="{!case.status !='Cerrado'}" value="{!cuentaCliente.Producto__r.Name}" styleclass="slds-input" /> 
                                            <apex:outputField rendered="{!case.status ='Cerrado'}" value="{!detalleCaso.Producto_Anterior__c}" /> 
                                        </div>
                                    </div>
                                    
                                    <div class="slds-form-element__row">
                                        <div class="slds-form-element slds-size--1-of-2">
                                            <label class="slds-form-element__label" >Cuenta Colectiva</label><br/>
                                            <apex:outputField rendered="{!case.status !='Cerrado'}" styleclass="slds-input" value="{!cuentaCliente.Detalle_Cuenta_colectiva__c}" /> 
                                            <apex:outputField rendered="{!case.status ='Cerrado'}" value="{!detalleCaso.Detalle_Cuenta_colectiva__c}" /> 
                                            
                                        </div>
                                        <div class="slds-form-element slds-size--2-of-2">
                                            <apex:outputPanel rendered="{!if(detalleCaso.Accion__c = 'A1',true,false)}">
                                                <label class="slds-form-element__label">Nueva Cuenta colectiva</label><br/>
                                                <div class="slds-input-has-icon slds-input-has-icon--right">                                   
                                                    <apex:commandLink action="{!buscarCuentaC}">
                                                        <svg class="slds-input__icon" aria-hidden="true">                                            
                                                            <use xlink:href="{!URLFOR($Resource.SLDS221, '/assets/icons/utility-sprite/svg/symbols.svg#search')}"></use>                                           
                                                        </svg>
                                                    </apex:commandLink>
                                                    <apex:outputField styleclass="slds-input" value="{!detalleCaso.Detalle_Cuenta_colectiva__c}" />
                                                </div>  
                                            </apex:outputPanel>
                                        </div>
                                    </div>
                                    
                                    <div class="slds-form-element__row">
                                        <div class="slds-form-element slds-size--1-of-2">
                                            <label class="slds-form-element__label" >Subproducto</label><br/>
                                            <apex:outputField rendered="{!OR(Caso.status !='Cerrado', detalleCaso.Detalle_subproducto2__c =null)}" styleclass="slds-input" value="{!cuentaCliente.Detalle_Subproducto__c}" /> 
                                            <apex:outputField rendered="{!AND(Caso.status ='Cerrado', detalleCaso.Detalle_subproducto2__c !=null)}" styleclass="slds-input" value="{!detalleCaso.Detalle_subproducto2__c}" /> 
                                        </div>
                                        <div class="slds-form-element slds-size--2-of-2">
                                            <label class="slds-form-element__label">Nuevo Subproducto</label><br/>
                                            <div class="slds-input-has-icon slds-input-has-icon--right">                                   
                                                <apex:commandLink action="{!buscarSubPro}" rendered="{!if(detalleCaso.Accion__c != 'A1',true,false)}" >
                                                    <svg class="slds-input__icon" aria-hidden="true">                                            
                                                        <use xlink:href="{!URLFOR($Resource.SLDS221, '/assets/icons/utility-sprite/svg/symbols.svg#search')}"></use>                                           
                                                    </svg>
                                                </apex:commandLink>
                                                <apex:outputField styleclass="slds-input" value="{!detalleCaso.Detalle_subproducto__c}" />
                                            </div>  
                                        </div>
                                    </div>
                                    
                                </div>
                            </fieldset>                                                       
                        </apex:outputpanel>
                        
                       <!-- REVERSIONES -->
                        <apex:outputpanel rendered="{!cTipoCaso.reversiones}">              
                            <fieldset class="slds-form--compound ">
                                <div class="slds-form-element__group">
                                    <div class="slds-form-element__row">
                                        <div class="slds-form-element slds-size--1-of-2">
                                            <label class="slds-form-element__label" >
                                                <abbr class="slds-required" title="required">*</abbr>Tipo de Transacción</label>
                                            <apex:inputField styleclass="slds-input" value="{!detalleCaso.Tipo_transaccion__c}" required="true"/> 
                                        </div>
                                        <div class="slds-form-element slds-size--2-of-2">
                                            <label class="slds-form-element__label">
                                                <abbr class="slds-required" title="required">*</abbr>Subtipo de Transacción</label><br/>
                                            <apex:inputField styleclass="slds-input" id="subtipoTransacion"  value="{!detalleCaso.Subtipo_transaccion__c}" required="true"  >
                                                <apex:actionSupport immediate="true" action="{!Mostrar}" event="onchange" />
                                            </apex:inputField> 
                                        </div>
                                    </div>
                                    
                                    <apex:outputPanel rendered="{!mostrarReversionesDife}">
                                        <div class="slds-form-element__row">
                                            <div class="slds-form-element slds-size--1-of-2">
                                                <label class="slds-form-element__label">
                                                   Tipo de Saldo</label><br/>
                                                <apex:inputField styleclass="slds-input" required="true" value="{!detalleCaso.Tipo_Saldo__c}"/> 
                                            </div>
                                            <div class="slds-form-element slds-size--2-of-2">
                                                <div class="slds-form-element__row">
                                                    <div class="slds-form-element slds-size--1-of-2">
                                                        <label class="slds-form-element__label">
                                                            Monto a Acreditar</label><br/>
                                                        <!--apex:inputText styleclass="slds-input" value="{!detalleCaso.Rendimiento__c}" disabled="{!mostrarMonto}" /-->
                                                        <apex:inputText styleclass="slds-input" required="true" value="{!detalleCaso.Monto_reversar__c}" disabled="{!mostrarMonto}" >
                                                            <!--apex:actionSupport event="onchange" action="{!cambioMonto}" /-->
                                                        </apex:inputText>
                                                    </div>
                                                    <div class="slds-form-element slds-size--2-of-2">
                                                        <br/><br/> <label class="slds-form-element__label">
                                                        <abbr class="slds-required" title="required">*</abbr>Cobrar Comisión</label>
                                                        <apex:inputCheckbox value="{!detalleCaso.Cobrar_comision__c}"/> 
                                                        
                                                    </div>
                                                </div> 
                                                <!--apex:outputPanel rendered="{!caso.mostrar_tasa_cambio__c ='Si'}" >
                                                    <div class="slds-form-element__row">
                                                        <div class="slds-form-element slds-size--1-of-2">
                                                            <label class="slds-form-element__label">
                                                                Tasa</label><br/>
                                                            <apex:outputField value="{!caso.Tasa_Cambio__c}" /> 
                                                        </div>
                                                        <div class="slds-form-element slds-size--2-of-2">
                                                            <br/> 
                                                             {!IF(monedaCuenta = 'USD','Comprar de dólares','Venta de dólares')}
                                                           
                                                        </div>
                                                    </div> 
                                                </apex:outputPanel-->
                                            </div>
                                        </div>  
                                        <div class="slds-form-element__row">
                                            <div class="slds-form-element slds-size--1-of-2">
                                                Fecha de Depósito<br/>
                                                <apex:inputField style="width:50%;" styleClass="slds-input" rendered="{!case.status ='Nuevo'}" showDatePicker="false" type="date" value="{!detalleCaso.Fecha_Deposito__c}" />
                                                <apex:outputField rendered="{!case.status !='Nuevo'}" value="{!detalleCaso.Fecha_Deposito__c}" />
                                            </div>
                                            <div class="slds-form-element slds-size--2-of-2">
                                               
                                            </div>
                                        </div>
                                        <apex:outputPanel rendered="{!caso.mostrar_tasa_cambio__c ='Si'}" >
                                            <div class="slds-form-element__row">
                                                <div class="slds-form-element slds-size--1-of-2">
                                                    Tipo de Transacción: {!IF(monedaCuenta = 'USD','Compra de Dólares','Venta de Dólares')}<br/>
                                                    <apex:outputPanel rendered="{!caso.Tasa_Cambio__c !=null}">
                                                        <br/>
                                                            Tasa<br/>
                                                        <apex:outputText value="HNL {!caso.Tasa_Cambio__c}" /> 
                                                    </apex:outputPanel>
                                                </div>
                                                <div class="slds-form-element slds-size--2-of-2">
                                                    <!--br/> 
                                                    {!IF(monedaCuenta = 'USD','Comprar de dólares','Venta de dólares')}-->
                                                </div>
                                            </div>
                                        </apex:outputPanel>
                                    </apex:outputPanel>
                                    
                                    <apex:outputPanel rendered="{!MostrarFecha}">
                                        <div class="slds-form-element__row">
                                            <div class="slds-form-element slds-size--1-of-2">
                                                <label class="slds-form-element__label" >
                                                    <abbr class="slds-required" title="required">*</abbr>Fecha desde</label>
                                                <apex:inputField type="date" styleclass="slds-input"  value="{!detalleCaso.Fecha_desde__c}"/>
                                            </div>
                                            <div class="slds-form-element slds-size--2-of-2">
                                                <label class="slds-form-element__label" >
                                                    <abbr class="slds-required" title="required">*</abbr>Fecha hasta</label>
                                                <apex:inputField type="date" styleclass="slds-input"  value="{!detalleCaso.Fecha_hasta__c}"/>
                                            </div>
                                        </div>
                                    </apex:outputPanel>
                                    
                                    <apex:outputPanel rendered="{!MostrarReversiones}">
                                        <div class="slds-form-element__row">
                                            <div class="slds-form-element slds-size--1-of-2">
                                                <label class="slds-form-element__label" >Descripcion</label><br/>
                                                <apex:outputField styleclass="slds-input" value="{!detalleCaso.Descripcion__c}" /> 
                                            </div>
                                            <div class="slds-form-element slds-size--2-of-2">
                                                <label class="slds-form-element__label">Monto a reversar</label><br/>
                                                <apex:outputField styleclass="slds-input" value="{!detalleCaso.Monto_reversar__c}"/> 
                                            </div>
                                            <div class="slds-form-element slds-size--1-of-2">
                                                <label class="slds-form-element__label" >Fecha de realización</label><br/>
                                                <apex:outputField styleclass="slds-input" value="{!detalleCaso.Fecha_aporte__c}" /> 
                                            </div>
                                        </div>
                                        
                                        <div class="slds-form-element__row">
                                            <div class="slds-form-element slds-size--1-of-2">
                                                <label class="slds-form-element__label" >Comisión por aporte</label><br/>
                                                <apex:outputField styleclass="slds-input" value="{!detalleCaso.Monto_comision_aporte__c}" /> 
                                            </div>
                                            <div class="slds-form-element slds-size--2-of-2">
                                                <label class="slds-form-element__label">Cobrar comisión por aporte</label><br/>
                                                <apex:outputField styleclass="slds-input" value="{!detalleCaso.Comision_por_aporte__c}"/> 
                                            </div>
                                        </div>
                                        
                                        <div class="slds-form-element__row">
                                            <div class="slds-form-element slds-size--1-of-2">
                                                <label class="slds-form-element__label" >Comisión por saldo</label><br/>
                                                <apex:outputField styleclass="slds-input" value="{!detalleCaso.Monto_comision_saldo__c}" /> 
                                            </div>
                                            <div class="slds-form-element slds-size--2-of-2">
                                                <label class="slds-form-element__label" >Rendimiento</label><br/>
                                                <apex:outputField styleclass="slds-input" value="{!detalleCaso.Rendimiento__c}" /> 
                                            </div>
                                        </div> 
                                    </apex:outputPanel>
                                </div>
                            </fieldset> 
                            
                        </apex:outputpanel>
                        <apex:outputPanel rendered="{!mostrarbonotes}">                   
                            <div class="slds-form-element__row">
                                <div class="slds-form-element slds-size--1-of-1">
                                    <br/><apex:commandButton value="Ver Movimientos" action="{!verMovimientos}"  styleClass="slds-input slds-button--neutral" rendered="{!cTipoCaso.reversiones}" />
                                </div>
                            </div>
                        </apex:outputPanel>
                        <br/>
                        <apex:outputPanel rendered="{!if(movimientoSeleccionado !=null,if(detallecaso.Subtipo_transaccion__c !='C1',true,false),false)}">
                            <apex:DataTable value="{!movimientoSeleccionado}"   var="item" styleClass="slds-table slds-table--bordered">
                                <apex:column headerValue="Fecha Valor a Reversar">       
                                    <apex:OutputField value="{!item.Fecha__c}" /> 
                                </apex:column>
                                <apex:column rendered="{!if(detallecaso.Subtipo_transaccion__c !='C2',if(detallecaso.Subtipo_transaccion__c !='C3',if(detallecaso.Subtipo_transaccion__c !='C7',true,false),false),false)}" headerValue="Tipo de Saldo">
                                    <apex:OutputField value="{!item.Tipo_Saldo__c}"/>                         
                                </apex:column>
                                
                                <apex:column headerValue="Monto">
                                    <apex:OutputText value="{!item.Monto__c}"/>   
                                </apex:column>
                                
                                <!--apex:column headerValue="Saldo Inicial">
                                    <apex:OutputText value="{!item.Saldo_Inicial__c}"/>                        
                                </apex:column>
                                <apex:column headerValue="% Comisión Aporte">
                                    <apex:OutputText value="{!item.Comision_por_aporte__c}"/>                           
                                </apex:column>
                                <apex:column headerValue="% Comisión Saldo">
                                    <apex:OutputText value="{!item.Comision_por_saldo__c}"/>                        
                                </apex:column>
                                <apex:column headerValue="Valor Cuota">
                                    <apex:OutputText value="{!item.Valor_Cuota__c}"/>                          
                                </apex:column-->
                            </apex:DataTable> 
                        </apex:outputPanel>
                        
                        <!----------------------------DETALLE DE MOVIMIENTO PARA ACREDITACION DE RENDIMIENTO---->
                        
                       <apex:outputPanel rendered="{!detallecaso.Subtipo_transaccion__c ='C1'}">
                            <apex:DataTable value="{!movimientoSeleccionado}"   var="item" styleClass="slds-table slds-table--bordered">
                                <apex:column headerValue="Fecha Valor a Reversar">       
                                    <apex:inputField type="date" value="{!item.Fecha__c}" /> 
                                </apex:column>
                                <apex:column rendered="{!if(detallecaso.Subtipo_transaccion__c !='C2',if(detallecaso.Subtipo_transaccion__c !='C3',if(detallecaso.Subtipo_transaccion__c !='C7',true,false),false),false)}" headerValue="Tipo de Saldo">
                                    <apex:outputField value="{!item.Tipo_Saldo__c}"/>                         
                                </apex:column>
                                
                                <apex:column headerValue="Monto">
                                    <apex:inputText value="{!item.Monto__c}">
                                        <!--apex:actionSupport status="status" reRender="theForm" event="onchange" action="{!cambioMontoC1}" /-->
                                    </apex:inputText>
                                </apex:column>
                            </apex:DataTable> 
                        </apex:outputPanel>
                        
                        <!-- <apex:outputPanel rendered="{!MostartablaMovimientos}">
                            <div class="slds-form-element__row">
                                <div class="slds-form-element slds-size--1-of-1">
                                    <br/> <table   styleClass="slds-table slds-table--bordered">
                                    <head>
                                        <tr>
                                            <th scope="col"> <div class="slds-truncate">Fecha</div></th>
                                            <th scope="col"><div class="slds-truncate">Descripción</div> </th>
                                            <th scope="col"><div class="slds-truncate">Monto</div></th>
                                        </tr>
                                    </head>
                                    <body>
                                        
                                        <tr>
                                            <td scope="col"><div class="slds-truncate"><apex:outputText value="{0, date, dd-MM-YYYY}">
                                                <apex:param value="{!Fecha}" /> 
                                                </apex:outputText></div></td>
                                            <td scope="col"><div class="slds-truncate"><apex:OutputText value="{!Descripcion}"/></div></td>
                                            <td scope="col"><div class="slds-truncate"><apex:OutputText value="{!Monto}"/></div></td>
                                        </tr>
                                        
                                    </body>
                                    
                                    </table> 
                                    
                                </div>
                            </div>
                        </apex:outputPanel> -->
                        
                        
                        <apex:outputPanel rendered="{!if(mostrarReversionesDifeabajo,if(movimientoSeleccionado !=null,true,false),false)}">
                            <br/>
                            <fieldset class="slds-form--compound ">
                                <div class="slds-form-element__group">
                                    <div class="slds-form-element__row">
                                        <div class="slds-form-element slds-size--1-of-3">
                                            <label class="slds-form-element__label">
                                                <abbr class="slds-required" title="required">*</abbr>Tipo de Saldo</label><br/>
                                            <apex:inputField styleclass="slds-input"  value="{!detalleCaso.Tipo_Saldo__c}">
                                                <apex:actionSupport event="onchange" action="{!cambioTipoSaldo}" />
                                            </apex:inputField>
                                        </div>
                                        <div class="slds-form-element slds-size--2-of-3">
                                            <apex:outputPanel rendered="{!detalleCaso.Subtipo_transaccion__c !='D1'}">
                                                <label class="slds-form-element__label">
                                                    <abbr class="slds-required" title="required">*</abbr>Fecha de Cierre</label><br/>
                                                <apex:inputField styleclass="slds-input" type="date" value="{!detalleCaso.Fecha_hasta_Reversar__c }">
                                                    <!--apex:actionSupport action="{!CalculoRendimientoDIario}" status="status" reRender="theForm" event="onchange" /-->
                                                </apex:inputField>
                                            </apex:outputPanel>
                                        </div>
                                         <div class="slds-form-element slds-size--3-of-3">
                                              <!--apex:outputLabel rendered="{!detalleCaso.Subtipo_transaccion__c ='C1'}" > Monto Orig: <apex:inputField style="width:40%;"  value="{!detallecaso.Monto_Original__c}" /></apex:outputLabel>
                                             <apex:outputLabel rendered="{!detalleCaso.Subtipo_transaccion__c !='C1'}" > Monto Original: <apex:outputField value="{!detallecaso.Monto_Original__c}" /></apex:outputLabel--><br/>
                                            <apex:commandButton styleClass="slds-button slds-button--brand" rendered="{!if(mostrarGuardar,if(detalleCaso.Subtipo_transaccion__c !='D1', true, false),false)}" value="Calcular" action="{!CalculoRendimientoDIario}" status="status" reRender="theForm"  />
                                        </div>
                                        <div class="slds-form-element slds-size--2-of-2">
                                            <div class="slds-form-element__row">
                                                <div class="slds-form-element slds-size--1-of-2">
                                                    <label class="slds-form-element__label">
                                                        <abbr class="slds-required" title="required">*</abbr>Monto a Acreditar</label><br/>
                                                    <apex:inputField styleclass="slds-input" required="true" value="{!detalleCaso.Monto_reversar__c}"    >
                                                        <!--apex:actionSupport event="onchange" action="{!cambioMonto}" /-->
                                                    </apex:inputField>
                                                </div>
                                                <div class="slds-form-element slds-size--2-of-2">
                                                    <label class="slds-form-element__label">
                                                       <apex:outputLabel rendered="{!detalleCaso.Tipo_transaccion__c ='A1'}"> <abbr class="slds-required" title="required">*</abbr>Cobrar Comisión</apex:outputLabel></label>
                                                        <apex:inputCheckbox rendered="{!detalleCaso.Tipo_transaccion__c ='A1'}" value="{!detalleCaso.Cobrar_comision__c}"/> 
                                                    
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>          
                        </apex:outputPanel>
                        
                        
                        <apex:outputPanel rendered="{!if(movimientoSeleccionado !=null,if(mostrarReversionesDifeabajo=false,true,false),false)}">
                            <br/>
                            <fieldset class="slds-form--compound ">
                                <div class="slds-form-element__group">
                                    <div class="slds-form-element__row">
                                        <div class="slds-form-element slds-size--1-of-2">
                                            <label class="slds-form-element__label">
                                                <abbr class="slds-required" title="required">*</abbr>Tipo de Saldo</label><br/>
                                            <apex:inputField styleclass="slds-input" required="true" value="{!detalleCaso.Tipo_Saldo__c}">
                                                <!--apex:actionSupport event="onchange" action="{!cambioTipoSaldo}" /-->
                                            </apex:inputField>
                                        </div>
                                        <div class="slds-form-element slds-size--2-of-2">
                                            <div class="slds-form-element__row">
                                                <div class="slds-form-element slds-size--1-of-2">
                                                    <label class="slds-form-element__label">
                                                        <abbr class="slds-required" title="required">*</abbr>Monto a Acreditar</label><br/>
                                                    <apex:inputField styleclass="slds-input" required="true" value="{!detalleCaso.Monto_reversar__c}"    >
                                                        <!--apex:actionSupport event="onchange" action="{!cambioMonto}" /-->
                                                    </apex:inputField>
                                                </div>
                                                <div class="slds-form-element slds-size--2-of-2">
                                                    <label class="slds-form-element__label">
                                                        <apex:outputLabel rendered="{!detalleCaso.Tipo_transaccion__c ='A1'}"> <abbr class="slds-required" title="required">*</abbr>Cobrar Comisión</apex:outputLabel></label>
                                                        <apex:inputCheckbox rendered="{!detalleCaso.Tipo_transaccion__c ='A1'}" value="{!detalleCaso.Cobrar_comision__c}"/> 
                                                    
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>          
                        </apex:outputPanel>
                        
                        
                        
                        
                        
                        
                    </fieldset>
                    <fieldset class="slds-form--compound ">
                        <div class="slds-form-element__group">
                            <div class="slds-form-element__row">
                                <div class="slds-form-element slds-size--1-of-2">   </div>
                                <div class="slds-form-element slds-size--2-of-2">
                                    <br/>
                                    <apex:commandButton value="Guardar" action="{!guardar}" styleClass="slds-button slds-button--brand"
                                                        rendered="{!AND(mostrarGuardar, !cTipoCaso.reversiones)}"/>
                                    <!-- apex:commandButton value="Finalizar" action="{!finalizar}" styleClass="slds-button slds-button--brand"
                                                        rendered="{!AND(!mostrarFinalizar)}"/ -->                    
                                    <apex:commandButton value="Guardar" action="{!guardarReversiones}" styleClass="slds-button slds-button--brand"
                                                        rendered="{!AND(mostrarGuardar, cTipoCaso.reversiones)}" />
                                                        
                                    <!-- apex:commandButton value="Ver Beneficiarios" action="{!verBeneficiarios2}" styleClass="slds-button slds-button--neutral"/ -->                     
                                                        
                                </div>
                            </div>
                        </div>
                    </fieldset>
                    <!-- BENEFICIARIOS -->
                    <apex:outputpanel rendered="{!cTipoCaso.actInformacion}" id="tablaBenes">
                        <br/>                                                           
                        
                        <apex:DataTable value="{!cuentasCaso}" var="item" styleClass="slds-table slds-table_bordered">  
                            <apex:column > 
                                <apex:actionRegion >
                                    <apex:commandLink action="{!eliminarCuenta}" Value="Eliminar" reRender="tablaBenes">
                                        <apex:param name="pBene" value="{!item.Indice__c}" assignTo="{!indiceEliminar}"/>     
                                    </apex:commandLink>
                                </apex:actionRegion>
                            </apex:column>                         
                            <apex:column headerValue="Primer nombre" > 
                                <apex:inputField value="{!item.Primer_Nombre__c}" required="true"/>                           
                            </apex:column>                
                            <apex:column headerValue="Segundo nombre" >
                                <apex:inputField value="{!item.Segundo_Nombre__c}"/>                           
                            </apex:column>   
                            <apex:column headerValue="Primer apellido" > 
                                <apex:inputField value="{!item.Primer_Apellido__c}" required="true"/>                           
                            </apex:column>  
                            <apex:column headerValue="Segundo apellido" > 
                                <apex:inputField value="{!item.Segundo_Apellido__c}"/>                           
                            </apex:column>
                            <apex:column headerValue="Tipo ID" > 
                                <apex:inputField value="{!item.Tipo_identificacion__c}"/>                           
                            </apex:column> 
                            <apex:column headerValue="Identificacion" > 
                                <apex:inputField value="{!item.Identificacion__c}"/>                           
                            </apex:column> 
                            <apex:column headerValue="Parentesco" >
                                <apex:inputField value="{!item.Parentesco__c}" required="true"/>                           
                            </apex:column>  
                            <apex:column headerValue="Grado" >
                                <apex:inputField value="{!item.Grado_parentesco__c}" required="true"/>                           
                            </apex:column>  
                            <apex:column headerValue="Porcentaje" > 
                                <apex:inputField value="{!item.Porcentaje__c}" required="true"/>                           
                            </apex:column> 
                            <apex:column headerValue="Sexo" > 
                                <apex:inputField value="{!item.Sexo__c}" required="true"/>                           
                            </apex:column> 
                            <apex:column headerValue="Fecha nacimiento" width="50px"> 
                                <apex:inputField type="date" showDatePicker="true" value="{!item.Fecha_Nacimiento__c}" required="true"/>                           
                            </apex:column>                                                                         
                        </apex:DataTable> 
                    </apex:outputpanel>
                    
                    
                    <!-- CONSTANCIAS -->
                    <apex:outputpanel rendered="{!cTipoCaso.constancias}">
                        <br/>                                       
                        <div class="slds-box slds-align--absolute-center slds-container--medium">   
                            <table class="slds-table slds-table_bordered slds-table_cell-buffer slds-table_striped slds-table_col-bordered">
                                <thead>
                                    <tr class="slds-text-title_caps">
                                        <th scope="col">
                                            <div class="slds-truncate" ></div>
                                        </th>
                                        <th scope="col"> 
                                            <div class="slds-truncate" title="# Cuenta"># Cuenta</div>
                                        </th>
                                        <th scope="col">
                                            <div class="slds-truncate" title="Aportes">Aportes</div>
                                        </th>
                                        <th scope="col">
                                            <div class="slds-truncate" title="Monto">Monto</div>
                                        </th>
                                        <th scope="col">
                                            <div class="slds-truncate" title="Fecha realización">Fecha realización</div>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <apex:repeat value="{!cuentasCaso}" var="item" >
                                        <tr>
                                            <th scope="row">
                                                <div class="slds-truncate">
                                                    <apex:commandLink action="{!eliminarCuenta}" >
                                                        Eliminar
                                                        <apex:param name="pDC1" value="{!item.Cuenta__c}" assignTo="{!idDetalleEliminar}"/>     
                                                    </apex:commandLink> 
                                                </div>
                                            </th>
                                            <td>
                                                <div class="slds-truncate"> <apex:OutputField value="{!item.Cuenta__c}"/>  </div>
                                            </td>
                                            <td>
                                                <div class="slds-truncate">
                                                    <apex:commandLink action="{!verAportes}" >
                                                        Ver
                                                        <apex:param name="pAporte" value="{!item.Cuenta__c}" assignTo="{!idDetalleEliminar}"/>     
                                                    </apex:commandLink> 
                                                </div>
                                            </td>
                                            <td>
                                                <div class="slds-truncate"> <apex:OutputText value="{!item.Nuevo_monto_aporte__c}"/>  </div>
                                            </td>
                                            <td>
                                                <div class="slds-truncate"> <apex:OutputField value="{!item.Fecha_aporte__c}"/>  </div>
                                            </td>
                                        </tr>
                                    </apex:repeat>
                                </tbody>
                            </table>
                        </div>
                    </apex:outputpanel>
                    
                    <apex:outputPanel rendered="{!popCuentaC}">
                        <div role="dialog" tabindex="-1" aria-labelledby="header43" class="slds-modal slds-fade-in-open slds-modal_large">
                            <div class="slds-modal__container">
                                <div class="slds-modal__header">
                                    <table>
                                        <tr>
                                            <td>CUENTAS COLECTIVAS</td>
                                            <td><apex:inputtext styleclass="slds-input"  value="{!nombreCuenta}" onkeypress="enterPress2(event)"/></td>
                                            <td><div class="slds-button-group" role="group">
                                                <apex:commandLink value="Buscar" id="botonBuscar" styleclass="slds-button slds-button--brand" action="{!buscarCuentaC}"/> 
                                                <apex:commandLink value="Cerrar" styleclass="slds-button slds-button--neutral" action="{!cerrar}"/> 
                                                </div></td>
                                        </tr>
                                    </table>
                                </div>
                                <div class="slds-modal__content">
                                    <apex:DataTable value="{!cuentasColectivas}" var="item" styleClass="slds-table slds-table--bordered">
                                        <apex:column headerValue="Número">
                                            <apex:commandLink action="{!cerrar}"> 
                                                <apex:OutputField value="{!item.Name}"/> 
                                                <apex:param name="pV1" value="{!item.id}" assignTo="{!detalleCaso.Nueva_Cuenta_colectiva2__c}"/>
                                                <apex:param name="pDetC" value="{!item.Name}" assignTo="{!detalleCaso.Detalle_Cuenta_colectiva__c}"/>    
                                                <apex:param name="Algo" value="{!item.Subproducto__c}" assignTo="{!detalleCaso.Nuevo_Subproducto__c}"/>
                                                <apex:param name="pCCSB2" value="{!item.Subproducto__r.Name}" assignTo="{!detalleCaso.Detalle_subproducto__c}"/>                                        
                                            </apex:commandLink>                                 
                                        </apex:column>  
                                        <apex:column Value="{!item.Subproducto__r.Name}" />                                                                               
                                    </apex:DataTable> 
                                </div>
                            </div>
                        </div>
                        <div class="slds-backdrop slds-backdrop--open"></div>
                    </apex:outputPanel>
                    
                     <apex:outputPanel rendered="{!popDolares}">
                        <div role="dialog" tabindex="-1" aria-labelledby="header43" class="slds-modal slds-fade-in-open slds-modal_large">
                            <div class="slds-modal__container">
                                <div class="slds-modal__header">
                                    <apex:outputText style="font-size:20px;" value="Compra / Venta de Dólares " />
                                </div>
                                <div class="slds-modal__content slds-p-around--medium">
                                    <h3 class="slds-text-heading_medium slds-hyphenate" style="display: {!IF(monedaCuenta = 'USD','block;','none;')}">¿Desea comprar dólares?   </h3>  
                                    <h3 class="slds-text-heading_medium slds-hyphenate" style="display: {!IF(monedaCuenta = 'HNL','block;','none;')}">¿Desea vender dólares?   </h3>  
                              
                                </div>
                                <footer class="slds-modal__footer">
                                    <apex:commandButton value="NO" action="{!No}" styleClass="slds-button slds-button--brand" />
                                    <apex:commandButton value="SI" action="{!Si}" styleClass="slds-button slds-button--brand" />                    
                                </footer>
                            </div>
                        </div>
                        <div class="slds-backdrop slds-backdrop--open"></div>
                    </apex:outputPanel>
                    
                   
                    <apex:outputPanel rendered="{!popRezago}" id="idpopRezago" >
                        <div role="dialog" tabindex="-1" aria-labelledby="header43" class="slds-modal slds-fade-in-open slds-modal_large">
                            <div class="slds-modal__container">
                                <div class="slds-modal__header">
                                   Caso Reversiones
                                </div>
                                <div class="slds-modal__content slds-p-around--medium">
                                    <table width ="100%">
                                        <tr>
                                            
                                            <td style ="width:50%;">
                                                Rezago<br/>
                                                <apex:selectList style="width:50%;" styleclass="slds-input"  value="{!detalleCaso.Rezago__c}" size="1" >
                                                    <apex:selectOption itemValue="N" itemLabel="No" />
                                                    <apex:selectOption itemValue="S" itemLabel="Si" />
                                                </apex:selectList>
                                                
                                            </td>
                                            <td style ="width:50%;">
                                                Codigo de referencia<br/>
                                                <apex:inputField style="width:50%;" styleclass="slds-input"  value="{!detalleCaso.Cod_Referencia__c}" />
                                            </td>
                                        </tr>
                                    </table>
                                    
                                </div>
                                <footer class="slds-modal__footer">
                                    <apex:commandButton value="Guardar"  action="{!actualizarRezago}" styleClass="slds-button slds-button--brand" />                    
                                </footer>
                            </div>
                        </div>
                        <div class="slds-backdrop slds-backdrop--open"></div>
                    </apex:outputPanel>
                   
                    
                    
                    
                    <apex:outputPanel rendered="{!popSubPro}">
                        <div role="dialog" tabindex="-1" aria-labelledby="header43" class="slds-modal slds-fade-in-open slds-modal_large">
                            <div class="slds-modal__container">
                                <div class="slds-modal__header">
                                    <table>
                                        <tr>
                                            <td>SUBPRODUCTOS</td>
                                            <td><apex:inputtext styleclass="slds-input"  value="{!nombreSubproducto}" onkeypress="enterPress(event)"/></td>
                                            <td><div class="slds-button-group" role="group">
                                                <apex:commandLink value="Buscar" styleclass="slds-button slds-button--brand" action="{!buscarSubPro}"/> 
                                                <apex:commandLink value="X" styleclass="slds-button slds-button--neutral" action="{!cerrar}"/> 
                                                </div></td>
                                        </tr>
                                    </table>
                                </div>
                                <div class="slds-modal__content slds-p-around--medium">
                                    <apex:DataTable value="{!subProductos}" var="item" styleClass="slds-table slds-table--bordered">
                                        <apex:column headerValue="Nombre">
                                            <apex:commandLink action="{!cerrar}" >
                                                <apex:OutputField value="{!item.Name}"/>
                                                <apex:param name="pV2" value="{!item.id}" assignTo="{!detalleCaso.Nuevo_Subproducto__c}"/> 
                                                <apex:param name="pV2SBN" value="{!item.Name}" assignTo="{!detalleCaso.Detalle_subproducto__c}"/>      
                                            </apex:commandLink> 
                                        </apex:column>
                                        <!-- apex:column headerValue="Nombre">
                                            <apex:OutputField value="{!item.Name}"/>                             
                                        </apex:column -->                                                                                 
                                    </apex:DataTable> 
                                </div>
                            </div>
                        </div>
                        <div class="slds-backdrop slds-backdrop--open"></div>
                    </apex:outputPanel>
                    
                    <apex:outputPanel rendered="{!popAporte}">
                        <div role="dialog" tabindex="-1" aria-labelledby="header43" class="slds-modal slds-fade-in-open slds-modal_large">
                            <div class="slds-modal__container">
                                <div class="slds-modal__header">
                                    <apex:commandLink action="{!cerrar}" styleclass="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close">
                                        <svg class="slds-button__icon slds-button__icon_large" aria-hidden="true">
                                            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{!URLFOR($Resource.SLDS221, '/assets/icons/utility-sprite/svg/symbols.svg#close')}"></use>
                                        </svg>
                                        <span class="slds-assistive-text">Cerrar</span>
                                    </apex:commandLink>  
                                    <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">APORTES</h2>
                                </div>
                                <div class="slds-modal__content slds-p-around--medium">
                                    <apex:DataTable value="{!listAportes}" var="item" styleClass="slds-table slds-table--bordered">
                                        <apex:column headerValue="Monto">
                                            <apex:commandLink action="{!selecAporte}" >
                                                <apex:OutputText value="{!item.monto}"/>   
                                                <apex:param name="SctAporte" value="{!item.indice}" assignTo="{!cuentasCaso[0].Nuevo_monto_aporte__c}"/>                                       
                                            </apex:commandLink> 
                                        </apex:column>
                                        <apex:column headerValue="Fecha de realización">
                                            <apex:OutputText value="{!item.fechaAporte}"/>                           
                                        </apex:column>                                                                                 
                                    </apex:DataTable> 
                                </div>
                            </div>
                        </div>
                        <div class="slds-backdrop slds-backdrop--open"></div>
                    </apex:outputPanel>
                    
                    <apex:outputPanel rendered="{!popMovimientos}">
                        <div role="dialog" tabindex="-1" aria-labelledby="header43" class="slds-modal slds-fade-in-open slds-modal_large">
                            <div class="slds-modal__container">
                                <div class="slds-modal__header">
                                    <apex:commandLink action="{!cerrar}" styleclass="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close">
                                        <svg class="slds-button__icon slds-button__icon_large" aria-hidden="true">
                                            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{!URLFOR($Resource.SLDS221, '/assets/icons/utility-sprite/svg/symbols.svg#close')}"></use>
                                        </svg>
                                        <span class="slds-assistive-text">Cerrar</span>
                                    </apex:commandLink>  
                                    <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">MOVIMIENTOS</h2>
                                </div>
                                <div class="slds-modal__content slds-p-around--medium">
                                    <apex:DataTable value="{!movimientos}" var="item" styleClass="slds-table slds-table--bordered">
                                        <apex:column headerValue="Fecha">       
                                            <apex:outputText value="{0, date, dd-MM-YYYY}">
                                                <apex:param value="{!item.fecha}" /> 
                                            </apex:outputText>
                                        </apex:column>
                                        <apex:column rendered="{!if(detallecaso.Subtipo_transaccion__c !='C2',if(detallecaso.Subtipo_transaccion__c !='C3',if(detallecaso.Subtipo_transaccion__c !='C7',true,false),false),false)}" headerValue="Tipo de Saldo">
                                            <apex:OutputText value="{!item.descripcion}"/>                         
                                        </apex:column>
                                        
                                        <apex:column headerValue="Monto">
                                            <apex:commandLink action="{!selecMovimiento}" >
                                                <apex:OutputText value="{!item.monto}"/>   
                                                <apex:param name="SctMovi" value="{!item.indice}" assignTo="{!indice}"/>                                       
                                            </apex:commandLink> 
                                        </apex:column>
                                        
                                        <apex:column rendered="false" headerValue="Saldo Inicial">
                                            <apex:OutputText value="{!item.saldoInicial}"/>                        
                                        </apex:column>
                                        <apex:column rendered="false" headerValue="% Comisión Aporte">
                                            <apex:OutputText value="{!item.prcComisionAporte}"/>                           
                                        </apex:column>
                                        <apex:column rendered="false" headerValue="% Comisión Saldo">
                                            <apex:OutputText value="{!item.prcComisionSaldo}"/>                        
                                        </apex:column>
                                        <apex:column rendered="false" headerValue="Valor Cuota">
                                            <apex:OutputText value="{!item.valorCuota}"/>                          
                                        </apex:column>
                                    </apex:DataTable> 
                                </div>
                            </div>
                        </div>
                        <div class="slds-backdrop slds-backdrop--open"></div>
                    </apex:outputPanel>
                                       
                    <apex:outputPanel rendered="{!popBene}">
                    <div style="overflow: auto; width: 100%; height: 200px;">
                        <div role="dialog" tabindex="-1" aria-labelledby="header43" class="slds-modal slds-fade-in-open slds-modal_large">
                            <div class="slds-modal__container">
                                <div class="slds-modal__header">
                                    <apex:commandLink action="{!cerrar}" styleclass="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close">
                                        <svg class="slds-button__icon slds-button__icon_large" aria-hidden="true">
                                            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{!URLFOR($Resource.SLDS221, '/assets/icons/utility-sprite/svg/symbols.svg#close')}"></use>
                                        </svg>
                                        <span class="slds-assistive-text">Cerrar</span>
                                    </apex:commandLink>  
                                    
                                    <apex:commandButton value="Agregar Beneficiarios" action="{!agregarBeneficiarios}" styleClass="slds-button slds-button--brand" />
                                    
                                </div>
                                <div class="slds-modal__content slds-p-around--medium">
                                    <apex:pageBlock >
                                        <apex:pageBlockTable value="{!listBeneficiarios}" var="item" >
                                            <apex:column headerValue="Seleccionar">
                                                <apex:inputField value="{!item.Casilla__c}"/>                           
                                            </apex:column> 
                                            <apex:column Value="{!item.Primer_Nombre__c}" />                
                                            <apex:column Value="{!item.Segundo_Nombre__c}" />  
                                            <apex:column Value="{!item.Primer_Apellido__c}" />  
                                            <apex:column Value="{!item.Segundo_Apellido__c}" /> 
                                            <apex:column Value="{!item.Identidad__c}" /> 
                                            <apex:column Value="{!item.Parentesco__c}" /> 
                                            <apex:column Value="{!item.Porcentaje__c}" /> 
                                            <apex:column Value="{!item.Fecha_Nacimiento__c}" /> 
                                            <apex:column Value="{!item.Sexo__c}" /> 
                                            
                                        </apex:pageBlockTable> 
                                    </apex:pageBlock>
                                </div>
                            </div>
                        </div>
                        <div class="slds-backdrop slds-backdrop--open"></div>
                    </div>
                    </apex:outputPanel>
                                        
                    
                </div>
                <apex:actionFunction name="Mostrar" action="{!Mostrar}" />
            </apex:form>
        </body>
    </html>
    
</apex:page>
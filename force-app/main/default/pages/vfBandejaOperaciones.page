<apex:page controller="controladorBandejaOperaciones" tabStyle="account" 
           sidebar="false" cache="false" id="page" showHeader="false"
           action="{!filtros}" lightningStylesheets="true" docType="html-5.0">
   
<html xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" lang="en">
   
        
    
<head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <title></title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Import the Design System style sheet -->
  <apex:slds />
</head>
        <body>
            <apex:form id="theForm" >
                <div class="slds-scope"> 
                    <apex:actionStatus id="status">
                        <apex:facet name="start">
                            <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; opacity: 0.25; z-index: 1000; background-color: black;">
                                &nbsp;
                            </div>
                            <div role="status" class="slds-spinner slds-spinner_large">
                                <span class="slds-assistive-text">Por Favor Espere...</span>
                                <div class="slds-spinner__dot-a"></div>
                                <div class="slds-spinner__dot-b"></div>
                            </div>
                        </apex:facet>
                    </apex:actionStatus>
                    
                    <div class="slds-page-header">
                        <div class="slds-grid">
                            <div class="slds-col slds-has-flexi-truncate">
                                <div class="slds-media slds-no-space slds-grow">
                                    <div class="slds-media__figure">
                                        <span class="slds-icon_container slds-icon-standard-opportunity" title="">
                                            <svg class="slds-icon" aria-hidden="true">
                                                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{!URLFOR($Asset.SLDS, 'assets/icons/standard-sprite/svg/symbols.svg#report')}" />
                                            </svg>
                                        </span>
                                    </div>
                                    <div class="slds-media__body">
                                        <nav>
                                            <ol class="slds-breadcrumb slds-line-height_reset">
                                                <li class="slds-breadcrumb__item">
                                                    <!--span>Reporte de Calidad</span-->
                                                    <br/>
                                                     <h1 class="slds-page-header__title slds-m-right_small slds-align-middle slds-truncate" title="Reporte">Operaciones</h1>
                                                </li>
                                            </ol>
                                        </nav>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <apex:outputPanel styleClass="slds-grid slds-page-header__detail-row" >
                            <table width="100%">
                                <tr >
                                    <td style="width:5%;">
                                        <p class="slds-text-title slds-truncate slds-m-bottom_xx-small" title="Filtros">Filtros</p>
                                        <p class="slds-text-body_regular">
                                            <button class="slds-button slds-button_icon slds-button_icon-border-filled slds-button_icon-border" onclick="return toggleFiltros();" href="javascript:void(0);" id="buttonFiltros">
                                                <svg class="slds-button__icon" aria-hidden="true">
                                                    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{!URLFOR($Asset.SLDS, 'assets/icons/utility-sprite/svg/symbols.svg#filterList')}"></use>
                                                </svg>
                                                <span class="slds-assistive-text"></span>
                                            </button>
                                        </p>
                                    </td>
                                    <!--td style="width:10%;">
                                        <p class="slds-text-title slds-truncate slds-m-bottom_xx-small" title="Tipo de Reporte">Tipo de Reporte</p>
                                        <p class="slds-text-body_regular slds-truncate" title="Tipo de Reporte">
                                            <apex:selectList style="width:90%;" label="Tipo de Reporte" size="1" multiselect="false" value="{!filtroReporte}">
                                                <apex:selectOption itemLabel="Reporte de Calidad" itemValue="3"/>
                                                <apex:selectOption itemLabel="Devoluciones" itemValue="4"/>
                                                <apex:actionSupport event="onchange" action="{!filtros}" reRender="pageBlockClientes" status="status"/>
                                            </apex:selectList>
                                        </p>
                                    </td-->
                                    <td style="width:10%;">
                                        <p class="slds-text-title slds-truncate slds-m-bottom_xx-small">Tipo Reporte</p>
                                        <p class="slds-text-body_regular slds-truncate" >
                                            <apex:selectList styleClass="slds-input" style="width:90%;" label="Tipo Reporte" size="1"  multiselect="false" value="{!filtroAfilicion}" >
                                                <apex:actionSupport event="onchange" action="{!filtros}" reRender="theForm" status="status"/>
                                                <apex:selectOption itemLabel="Individuales" itemValue="I" />
                                                <apex:selectOption itemLabel="Ficopen" itemValue="F" />
                                                <apex:selectOption itemLabel="Afiliacion Masiva" itemValue="M" />
                                            </apex:selectList>
                                        </p>
                                    </td>
                                    <td style="width:10%;">
                                        <p class="slds-text-title slds-truncate slds-m-bottom_xx-small">Oficial SAC</p>
                                        <p class="slds-text-body_regular slds-truncate" >
                                            <apex:selectList styleClass="slds-input" style="width:90%;" label="Oficial SAC" size="1"  multiselect="false" value="{!filtroOficial}" >
                                                <apex:actionSupport event="onchange" action="{!filtros}" reRender="pageBlockClientes" status="status"/>
                                                <apex:selectOptions value="{!listOficiales}" />
                                            </apex:selectList>
                                        </p>
                                    </td>
                                    <!--td style="width:10%;">
                                        <p class="slds-text-title slds-truncate slds-m-bottom_xx-small" title="Seleccione un proyecto">Tipo de Carga</p>
                                        <p class="slds-text-body_regular slds-truncate" title="ProyectoSeleccionado">
                                            <apex:selectList style="width:90%;" label="Proyecto" size="1" multiselect="false" value="{!filtroTipoCarga}">
                                                <apex:selectOption itemLabel="--Ninguno--" itemValue=""/>
                                                <apex:selectOption itemLabel="Cliente Individual" itemValue="I"/>
                                                <apex:selectOption itemLabel="Cliente por Carga" itemValue="C"/>
                                                <apex:selectOption itemLabel="Clientes ya Cargados" itemValue="YC"/>
                                                <apex:selectOption itemLabel="Afiliación Masiva" itemValue="M"/>
                                                <apex:actionSupport event="onchange" action="{!filtros}" reRender="pageBlockClientes" status="status"/>
                                            </apex:selectList>
                                        </p>
                                    </td-->
                                    <td style="width:10%;">
                                        <p class="slds-text-title slds-truncate slds-m-bottom_xx-small">Empresa</p>
                                        <p class="slds-text-body_regular slds-truncate" >
                                            <apex:selectList styleClass="slds-input" style="width:90%;" label="Empresa" size="1" multiselect="false" value="{!filtroEmpresa}" >
                                                <apex:actionSupport event="onchange" action="{!filtros}" reRender="pageBlockClientes" status="status"/>
                                                <apex:selectOptions value="{!listEmpresas}" />
                                            </apex:selectList>
                                        </p>
                                    </td>
                                    <td style="width:10%;">
                                        <p class="slds-text-title slds-truncate slds-m-bottom_xx-small" title="Asesor">Asesor</p>
                                         <p class="slds-text-body_regular slds-truncate" >
                                             <apex:selectList styleClass="slds-input" style="width:90%;" value="{!filtroAsesor}" size="1"  >
                                                 <apex:selectOptions value="{!listAsesores}" />
                                                 <apex:actionSupport event="onchange" action="{!filtros}" reRender="pageBlockClientes" status="status"/>
                                             </apex:selectList>
                                             
                                         </p>
                                    </td>
                                    <td style="width:10%;">
                                        <p class="slds-text-title slds-truncate slds-m-bottom_xx-small" title="Seleccione el Uso">Fecha Desde</p>
                                        <p class="slds-text-body_regular slds-truncate" >
                                            <apex:input styleClass="slds-input" style="width:90%;" type="date" value="{!filtroFechaDesde}"  >
                                                <apex:actionSupport event="onchange" action="{!filtros}" reRender="pageBlockClientes" status="status"/>
                                            </apex:input>
                                            
                                        </p>
                                    </td>
                                    <td style="width:10%;">
                                        <p class="slds-text-title slds-truncate slds-m-bottom_xx-small" title="Seleccione el Uso">Fecha Hasta</p>
                                        <p class="slds-text-body_regular slds-truncate" >
                                            <apex:input styleClass="slds-input" style="width:90%;" type="date" value="{!filtroFechaHasta}"  >
                                                <apex:actionSupport event="onchange" action="{!filtros}" reRender="pageBlockClientes" status="status"/>
                                            </apex:input>
                                            
                                        </p>
                                    </td>
                                     <!--td style="width:10%;">
                                         <p class="slds-text-title slds-truncate slds-m-bottom_xx-small" title="Zona">Zona</p>
                                         <p class="slds-text-body_regular slds-truncate" >
                                             <apex:selectList style="width:90%;" value="{!filtroZona}" size="1" styleClass="slds-input" >
                                                 <apex:selectOption itemValue="" itemLabel="--Ninguno--" />
                                                 <apex:selectOption itemValue="CS" itemLabel="Centro - Sur" />
                                                 <apex:selectOption itemValue="NO" itemLabel="Nor - Occidente" />
                                                 <apex:actionSupport event="onchange" action="{!filtros}" reRender="pageBlockClientes" status="status"/>
                                             </apex:selectList>
                                             
                                         </p>
                                    </td-->
                                    
                                    <td style="width:10%;">
                                        <br/>
                                        <apex:commandButton value="Exportar Excel"  action="{!exportarExcel}" styleClass="slds-button slds-button--success" rendered="{!AND(listReporte.size != 0,filtroAfilicion = 'I')}" />
                                    </td>
                                    
                                </tr>
                            </table>
                            
                           
                        </apex:outputPanel>
                        
                        
                    </div>
                    <!-------FIN PARTE ENUEVA----------->
                    <apex:pageBlock id="idpageBlockButon">
                        <footer class="slds-modal__footer">
                            Página {!pagActual} de {!totalPag}&nbsp;
                            <apex:commandButton value="Anterior" status="status" reRender="pageBlockClientes,idpageBlockButon" disabled="{!disabledAnt}" action="{!anterior}" styleClass="slds-button slds-button--neutral" />
                            <apex:commandButton value="Siguiente" status="status" reRender="pageBlockClientes,idpageBlockButon" disabled="{!disabledSig}" action="{!siguiente}" styleClass="slds-button slds-button--brand" />
                        </footer> 
                    </apex:pageBlock>
                    
                    <apex:pageBlock id="pageBlockClientes" >
                        <apex:pageMessages />
                        <apex:pageBlockSection columns="1"  title="Reporte de Seguimiento">
                            
                            <apex:dataTable style="width:6000px;" rendered="{!filtroAfilicion = 'I'}"  value="{!listReporte}" var="item">
                                
                                <apex:column headerValue="No">
                                    <apex:outputField value="{!item.Num__c}" />
                                </apex:column>
                                
                                 <apex:column headerValue="Aprobado">
                                    <apex:inputField value="{!item.Aprobado__c}" >
                                        <!--apex:actionSupport event="onchange" status="status" reRender="theForm" action="{!selectAprobar}"  >
                                            <apex:param value="{!item.id}" assignTo="{!idAfiliacion}" name="idAfiliacion2" />
                                        </apex:actionSupport-->
                                        
                                     </apex:inputField>
                                </apex:column>
                                
                                 <apex:column headerValue="Rechazado">
                                    <apex:inputField value="{!item.Rechazado__c}" >
                                         <!--apex:actionSupport event="onchange" status="status" reRender="theForm" action="{!selectRechazar}"  >
                                            <apex:param value="{!item.id}" assignTo="{!idAfiliacion}" name="idAfiliacion" />
                                        </apex:actionSupport-->
                                     </apex:inputField>
                                </apex:column>
                                
                                <apex:column headerValue="Error Sysde">
                                    <apex:outputField value="{!item.Error_Sysde__c}" />
                                </apex:column>
                                
                                <apex:column headerValue="Comentarios">
                                    <apex:inputField value="{!item.Comentarios__c}" />
                                </apex:column>
                                
                                <apex:column headerValue="Aplica CS">
                                    <apex:outputField value="{!item.Aplica_CS__c}" />
                                </apex:column>
                                

                                <apex:column headerValue="No. De Empleado" >
                                    <apex:outputText value="" />
                                </apex:column>
                                
                                <apex:column headerValue="Fecha Ingreso a la cuenta" >
                                    <apex:outputText value="{0, date, dd--MM--YYYY}"> 
                                        <apex:param value="{!today()}" />
                                    </apex:outputText> 

                                </apex:column>
                                
                                 <apex:column headerValue="No. De Empresa" >
                                     <apex:outputText value="{!item.Cuentas_Colectivas__c}" />
                                </apex:column> 
                                
                               
                                
                                <apex:column headerValue="tip_id" >
                                    <apex:outputText value="{!item.Tipo_Identificacion__c}" />
                                </apex:column>
                                
                                 <apex:column headerValue="ID" >
                                    <apex:outputField value="{!item.Identificacion__c}" />
                                </apex:column>
                                
                                <apex:column headerValue="1 APELLIDO">
                                    <apex:outputField value="{!item.Primer_Apellido__c}" />
                                </apex:column>
                                
                                <apex:column headerValue="2 APELLIDO">
                                    <apex:outputField value="{!item.Segundo_Apellido__c}" />
                                </apex:column>
                                
                                 <apex:column headerValue="1 NOMBRE">
                                    <apex:outputField value="{!item.Name}" />
                                </apex:column>
                                
                                  <apex:column headerValue="2 NOMBRE">
                                    <apex:outputField value="{!item.Segundo_Nombre__c}" />
                                </apex:column>
                                
                                <apex:column headerValue="NACIONALIDAD" >
                                    <apex:outputText value="{!item.Nacionalidad__c}" />
                                </apex:column>
                                
                                <apex:column headerValue="FECHA NACIMIENTO" >
                                    <apex:outputText value="{0, date, dd--MM--YYYY}"> 
                                        <apex:param value="{!item.Fecha_Nacimiento__c}" />
                                    </apex:outputText> 
                                </apex:column>
                                
                                
                                <apex:column headerValue="SEXO" >
                                    <apex:outputText value="{!IF(item.Sexo__c = 'Masculino', 'M', 'F')}" />
                                </apex:column>
                                
                                <apex:column headerValue="ESTADO CIVIL" >
                                    <apex:outputText value="{!item.Estado_CIvil__c}" />
                                </apex:column>
                                
                                 <apex:column headerValue="ENVIO" >
                                    <apex:outputText value="O" />
                                </apex:column>
                                
                                <apex:column headerValue="DIRECCION" >
                                    <apex:outputText value=" " />
                                </apex:column>
                                
                                <apex:column headerValue="Nro. Direccion" >
                                    <apex:outputText value=" " />
                                </apex:column>
                                
                                 <apex:column headerValue="No. Edificio" >
                                    <apex:outputText value=" " />
                                </apex:column>
                                
                                 <apex:column headerValue="Codigo Pais" >
                                    <apex:outputText value="074" />
                                </apex:column>
                                
                                 <apex:column headerValue="Codigo Region" >
                                    <apex:outputText value="{!item.Cod_Region__c}" />
                                </apex:column>
                                
                                 <apex:column headerValue="Codigo Provincia" >
                                    <apex:outputText value="{!item.Cod_Provincia__c}" />
                                </apex:column>
                                
                                 <apex:column headerValue="Codigo Ciudad" >
                                    <apex:outputText value="000" />
                                </apex:column>
                                
                                 <apex:column headerValue="Codigo Sector" >
                                    <apex:outputText value="000" />
                                </apex:column>
                                
                                 <apex:column headerValue="CORREO" >
                                    <apex:outputText value=" " />
                                </apex:column>
                                
                                <apex:column headerValue="TELEFONO" >
                                    <apex:outputText value=" " />
                                </apex:column>
                                
                                <apex:column headerValue="aplica seguro" >
                                    <apex:outputText value="N" />
                                </apex:column>
                                
                                 <apex:column headerValue="ibc" >
                                    <apex:outputText value=" " />
                                </apex:column>
                                
                                <apex:column headerValue="producto" >
                                    <apex:outputText value="{!item.subProducto__r.producto__r.Codigo__c}" />
                                </apex:column>
                                
                                 <apex:column headerValue="subproducto" >
                                    <apex:outputText value="{!item.subProducto__r.Codigo__c}" />
                                </apex:column>
                                
                                <apex:column headerValue="periodicidad" >
                                    <apex:outputText value="{!item.Periodicidad__c}" />
                                </apex:column>
                                
                                 <apex:column headerValue="forma de pago" >
                                    <apex:outputText value="{!item.Forma_Pago__c}" />
                                </apex:column>
                                
                                <apex:column headerValue="cuenta pago" >
                                    <apex:outputText value=" " />
                                </apex:column>
                                
                                 <apex:column headerValue="ente paga" >
                                    <apex:outputText value=" " />
                                </apex:column>
                                
                                <apex:column headerValue="tipo aporte" >
                                    <apex:outputText value="B" />
                                </apex:column>
                                
                                 <apex:column headerValue="monto aporte" >
                                    <apex:outputText rendered="{!item.CurrencyIsoCode = 'HNL'}" value="{!item.Aportacion_HNL__c}" />
                                     <apex:outputText rendered="{!item.CurrencyIsoCode != 'HNL'}" value="{!item.Aportacion_USD__c}" />
                                </apex:column>
                                
                                <apex:column headerValue="monto de aporte neto" >
                                    <apex:outputText value="{!item.Aporte_Patrono__c}" />
                                </apex:column>
                                
                                 <apex:column headerValue="ocupacion" >
                                    <apex:outputText rendered="{!item.Profesion__c !=null}" value="{!item.Profesion__c}" />
                                     <apex:outputText rendered="{!item.Profesion__c =null}" value="99" ></apex:outputText>
                                </apex:column>
                                
                                <apex:column headerValue="promotor" >
                                    <apex:outputText value="{!item.Codigo_Asesor_Comercial__c}" />
                                </apex:column>
                                
                                 <apex:column headerValue="Nombre promotor" >
                                    <apex:outputText value="{!item.Asesor_Comercial__c}" />
                                </apex:column>
                                
                                 <apex:column headerValue="rtn empleador" >
                                    <apex:outputText value="{!item.empresa__r.Identificacion_Empleador__c}" />
                                </apex:column>
                                
                                 <apex:column headerValue="Razon social empresa" >
                                    <apex:outputText value="{!item.empresa__r.name}" />
                                </apex:column>
                                
                                <apex:column headerValue="Nombre empresa" >
                                    <apex:outputText value="{!item.empresa__r.name}" />
                                </apex:column>
                                
                                <apex:column headerValue="FECHA DE INGRESO" >
                                    <apex:outputText value="{0, date, dd--MM--YYYY}"> 
                                        <apex:param value="{!item.Fecha_Ingreso_Empresa__c}" />
                                    </apex:outputText> 
                                </apex:column>
                                
                                <apex:column headerValue="telefono Empresa" >
                                    <apex:outputText value="{!item.Empresa__r.Phone}" />
                                </apex:column>
                                
                                <apex:column headerValue="FAX EMPRESA" >
                                    <apex:outputText value="{!item.Empresa__r.Fax_Oficina__c}" />
                                </apex:column>
                                
                                 <apex:column headerValue="extencion empresa" >
                                    <apex:outputText value=" " />
                                </apex:column>
                                
                                <apex:column headerValue="direccion empresa" >
                                    <apex:outputText value=" " />
                                </apex:column>
                                
                                 <apex:column headerValue="email empresa" >
                                    <apex:outputText value=" " />
                                </apex:column>
                                
                                <apex:column headerValue="tipo solicitud" >
                                    <apex:outputText value="I" />
                                </apex:column>
                                
                                 <apex:column headerValue="refe1primer_nom" >
                                    <apex:outputText value=" " />
                                </apex:column>
                                
                                <apex:column headerValue="refe1segun_nom" >
                                    <apex:outputText value=" " />
                                </apex:column>
                                
                                <apex:column headerValue="refe1primer_ape" >
                                    <apex:outputText value=" " />
                                </apex:column>
                                
                                <apex:column headerValue="refe1segun_ape" >
                                    <apex:outputText value=" " />
                                </apex:column>
                                
                                <apex:column headerValue="tel_refe1" >
                                    <apex:outputText value=" " />
                                </apex:column>
                                
                                <apex:column headerValue="refe2primer_nom" >
                                    <apex:outputText value=" " />
                                </apex:column>
                                
                                <apex:column headerValue="refe2segun_nom" >
                                    <apex:outputText value=" " />
                                </apex:column>
                                
                                <apex:column headerValue="refe2primer_ape" >
                                    <apex:outputText value=" " />
                                </apex:column>
                                
                                <apex:column headerValue="refe2segun_ape" >
                                    <apex:outputText value=" " />
                                </apex:column>
                                
                                <apex:column headerValue="tel_refe2" >
                                    <apex:outputText value=" " />
                                </apex:column>
                                
                                <apex:column headerValue="cargo_emp" >
                                    <apex:outputText value="{!item.Cargo__c }" />
                                </apex:column>
                                
                                <apex:column headerValue="LUGAR_NACIMIENTO" >
                                    <apex:outputText value="{!item.Lugar_Nacimiento__c}" />
                                </apex:column>
                                
                                <apex:column headerValue="NOMBRE_CONYUGUE" >
                                    <apex:outputText value="{!item.Nombre_Conyuge__c}" />
                                </apex:column>
                                
                                <apex:column headerValue="BENF1primer_nom" >
                                    <apex:outputText value="" ></apex:outputText>
                                </apex:column>
                                <apex:column headerValue="BENF1Segundo_nom" >
                                    <apex:outputText value="" ></apex:outputText>
                                </apex:column>
                                <apex:column headerValue="BENF1primer_ape" >
                                    <apex:outputText value="" ></apex:outputText>
                                </apex:column>
                                <apex:column headerValue="BENF1segun_ape" >
                                    <apex:outputText value="" ></apex:outputText>
                                </apex:column>
                                <apex:column headerValue="BENF1parentesco" >
                                    <apex:outputText value="" ></apex:outputText>
                                </apex:column>
                                
                                <apex:column headerValue="BENF1porcentaje" >
                                    <apex:outputText value="" ></apex:outputText>
                                </apex:column>
                                
                            </apex:dataTable>
                            
                            <apex:dataTable style="width:6000px;" rendered="{!filtroAfilicion = 'F'}"  value="{!listReporte}" var="item">
                                
                                <apex:column rendered="false" headerValue="Aprobado">
                                    <apex:inputField value="{!item.Aprobado__c}" >
                                        <!--apex:actionSupport event="onchange" status="status" reRender="theForm" action="{!selectAprobar}"  >
                                            <apex:param value="{!item.id}" assignTo="{!idAfiliacion}" name="idAfiliacion2" />
                                        </apex:actionSupport-->
                                        
                                    </apex:inputField>
                                </apex:column>
                                
                                <apex:column headerValue="Rechazado">
                                    <apex:inputField value="{!item.Rechazado__c}" >
                                        <!--apex:actionSupport event="onchange" status="status" reRender="theForm" action="{!selectRechazar}"  >
                                            <apex:param value="{!item.id}" assignTo="{!idAfiliacion}" name="idAfiliacion" />
                                        </apex:actionSupport-->
                                    </apex:inputField>
                                </apex:column>
                                
                                <apex:column headerValue="Primer Nombre">
                                    <apex:outputField value="{!item.name}" />
                                </apex:column>
                                
                                <!--apex:column headerValue="Segundo Nombre">
                                    <apex:outputField value="{!item.segundo_nombre__C}" />
                                </apex:column-->
                                
                                <apex:column headerValue="Primer Apellido">
                                    <apex:outputField value="{!item.Primer_Apellido__c}" />
                                </apex:column>
                                
                                <!--apex:column headerValue="Segundo Apellido">
                                    <apex:outputField value="{!item.segundo_apellido__C}" />
                                </apex:column-->
                                
                                    <apex:column headerValue="Empresa" >
                                        <apex:outputField value="{!item.Empresa__r.name}" />
                                    </apex:column>
                                <apex:column headerValue="Sub Producto" >
                                    <apex:outputField value="{!item.Subproducto__r.name}" />
                                </apex:column>
                                <apex:column headerValue="Identificación" >
                                    <apex:outputField value="{!item.Identificacion__c}" />
                                </apex:column>
                                
                                <apex:column headerValue="Comentarios" >
                                    <apex:inputField value="{!item.Comentarios__c}" />
                                </apex:column>
                                
                                <apex:column headerValue="" >
                                    <apex:commandLink action="{!afiliar}" value="Afiliar" target="_blank" >
                                        <apex:param value="{!item.id}" assignTo="{!idAfiliacion}" name="idAfiliascion2" />
                                    </apex:commandLink>
                                </apex:column>
                                
                                
                                
                            </apex:dataTable>
                            
                            
                            <apex:dataTable style="width:6000px;" rendered="{!filtroAfilicion = 'M'}"  value="{!listReporte}" var="item">
                                
                                <apex:column headerValue="Aprobado">
                                    <apex:inputField value="{!item.Aprobado__c}" >
                                        <!--apex:actionSupport event="onchange" status="status" reRender="theForm" action="{!selectAprobar}"  >
                                            <apex:param value="{!item.id}" assignTo="{!idAfiliacion}" name="idAfiliacion2" />
                                        </apex:actionSupport-->
                                        
                                    </apex:inputField>
                                </apex:column>
                                
                                <apex:column headerValue="Rechazado">
                                    <apex:inputField value="{!item.Rechazado__c}" >
                                        <!--apex:actionSupport event="onchange" status="status" reRender="theForm" action="{!selectRechazar}"  >
                                            <apex:param value="{!item.id}" assignTo="{!idAfiliacion}" name="idAfiliacion" />
                                        </apex:actionSupport-->
                                    </apex:inputField>
                                </apex:column>
                                
                                    <apex:column headerValue="Empresa" >
                                        <apex:outputField value="{!item.Empresa__r.name}" />
                                    </apex:column>
                                <apex:column headerValue="Sub Producto" >
                                    <apex:outputField value="{!item.Subproducto__r.name}" />
                                </apex:column>
                                <apex:column headerValue="Afiliaciones" >
                                    <apex:outputField value="{!item.Cantidad_Afiliaciones__c}" />
                                </apex:column>
                                <!--apex:column headerValue="Capital Semilla" >
                                    <apex:outputField value="{!item.Aplica_CS__c}" />
                                </apex:column-->
                                <apex:column headerValue="Asesor" >
                                    <apex:outputField value="{!item.Asesor_Comercial__c}" />
                                </apex:column>
                                <apex:column headerValue="Código T24" >
                                    <apex:outputField value="{!item.Codigo_T24__c }" />
                                </apex:column>
                                <!--apex:column headerValue="Moneda" >
                                    <apex:outputField value="{!item.CurrencyIsoCode}" />
                                </apex:column-->
                                <apex:column headerValue="Comentarios" >
                                    <apex:inputField value="{!item.Comentarios__c}" />
                                </apex:column>
                                
                                 <apex:column headerValue="" >
                                     <apex:commandLink action="{!descargarArchivo}" value="Descargar" reRender="theForm" >
                                         <apex:param value="{!item.id}" assignTo="{!idAfiliacion}" name="idAfiliacion2" />
                                     </apex:commandLink>
                                     <!--a href="http://fpc-fpc.cs40.force.com/UsuariosFPC/resource/1515546434000/Archivo_Carga_Comercial?" target="_blank" > Descargar Archivo</a><br/-->
                                </apex:column>
                                
                                
                                
                            </apex:dataTable>
                            
                        </apex:pageBlockSection>
                        
                        <footer class="slds-modal__footer">
                            <apex:commandButton status="status" reRender="theForm" style="margin-right:8px;"  styleClass="slds-button slds-button--brand"  value="Guardar" action="{!popGuardar}"  />
                        </footer>
                     
                        <apex:outputPanel rendered="{!pop}"  >
                            <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                                <div class="slds-modal__container">
                                    <header class="slds-modal__header" >
                                        <apex:commandLink action="{!salir}" immediate="true" styleclass="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"  title="Close">
                                            <svg class="slds-button__icon slds-button__icon_large" aria-hidden="true">
                                                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{!URLFOR($Resource.SLDS221, '/assets/icons/utility-sprite/svg/symbols.svg#close')}"></use>
                                            </svg>
                                            <span class="slds-assistive-text">Cerrar</span>
                                        </apex:commandLink>
                                        <h1 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate" >Verificación de Cuentas</h1>
                                    </header>
                                    <div class="slds-modal__content slds-p-around_medium ">
                                        <div class="slds-form slds-form_compound slds-align--absolute-left">
                                            <fieldset class="slds-form-element">
                                                
                                                <div class="slds-modal__content slds-p-around--medium">
                                                    <table width="100%" >
                                                        <tr>
                                                            <th style="width:40%;">
                                                                <apex:outputText value="Nombre" />
                                                            </th>
                                                            <th style="width:30%;">
                                                                <apex:outputText value="Identificación" />
                                                            </th>
                                                            
                                                            <th style="width:30%;">
                                                                <apex:outputText value="Num Cuenta" />
                                                            </th>
                                                            
                                                        </tr>
                                                        <apex:repeat value="{!listReporte}" var="item" >
                                                            <tr>
                                                                <td style="width:40%;">
                                                                    <apex:outputText rendered="{!item.Aprobado__c}" value="{!item.Name+' '+item.Primer_Apellido__c}" />
                                                                </td>
                                                                <td style="width:30%;">
                                                                    <apex:outputText rendered="{!item.Aprobado__c}" value="{!item.Identificacion__c}" />
                                                                </td>
                                                                
                                                                <td style="width:30%;">
                                                                    <apex:inputField rendered="{!item.Aprobado__c}" required="true"  value="{!item.Numero_Cuenta__c}" />
                                                                </td>
                                                                
                                                            </tr>
                                                        </apex:repeat>
                                                    </table>
                                                    <br/>
                                                    <footer class="slds-modal__footer">
                                                        <apex:actionStatus id="mySaveStatus1">
                                                            <apex:facet name="stop">
                                                                <apex:commandbutton styleclass="slds-button slds-button_brand" action="{!guardar}"  value="Verificar"
                                                                                    disabled="false" rerender="theForm" status="mySaveStatus1"/>
                                                            </apex:facet>
                                                            <apex:facet name="start">
                                                                <apex:commandButton styleclass="slds-button slds-button_neutral" status="mySaveStatus1" value="Validando..." disabled="true"/>
                                                            </apex:facet>
                                                        </apex:actionStatus>                  
                                                        <apex:commandButton status="status" reRender="theForm" style="margin-right:8px;"  styleClass="slds-button slds-button--brand"  value="Guardar" action="{!guardar}"  />
                                                    </footer>
                                                    
                                                </div>
                                            </fieldset>
                                        </div>
                                    </div>
                                </div>
                            </section>
                            <div class="slds-backdrop slds-backdrop_open"></div>
                        </apex:outputPanel>
                        
                      
                    </apex:pageBlock> 
                </div>
               
            </apex:form>
        </body>
    </html>
    
    
</apex:page>